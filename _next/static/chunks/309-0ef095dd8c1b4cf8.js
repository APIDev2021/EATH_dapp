"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{57334:function(e,t,n){n.d(t,{q:function(){return r}});var s=n(52322),l=n(67810),a=n(17759);let r=e=>{let{control:t,serviceIndex:n,onClose:r}=e;return(0,s.jsx)(l.GI,{fullWidth:!0,open:!0,variant:"custom",title:"Edit Commands",actions:[{label:"Close",color:"primary",variant:"ghost",side:"right",onClick:r}],onClose:r,maxWidth:"sm",enableCloseOnBackdropClick:!0,children:(0,s.jsxs)(a.h,{className:"!bg-popover",children:[(0,s.jsx)(l.Wi,{control:t,name:"services.".concat(n,".command.command"),render:e=>{let{field:t}=e;return(0,s.jsx)(l.yt,{type:"text",label:"Command",value:t.value,placeholder:"Example: bash -c",onChange:e=>t.onChange(e.target.value)})}}),(0,s.jsx)(l.Wi,{control:t,name:"services.".concat(n,".command.arg"),render:e=>{let{field:t}=e;return(0,s.jsxs)(l.xJ,{className:"mt-2",children:[(0,s.jsx)(l.lX,{children:"Arguments"}),(0,s.jsx)(l.gx,{"aria-label":"Args",placeholder:"Example: apt-get update; apt-get install -y --no-install-recommends -- ssh;",className:"mt-2 w-full px-4 py-2 text-sm",value:t.value,rows:4,spellCheck:!1,onChange:t.onChange})]})}})]})})}},13707:function(e,t,n){n.d(t,{e:function(){return i}});var s=n(52322),l=n(67810),a=n(89870),r=n(17759);let i=e=>{var t,n,i,o;let{currentService:c,setIsEditingCommands:d,serviceIndex:m}=e;return(0,s.jsxs)(r.h,{children:[(0,s.jsxs)("div",{className:"mb-2 flex items-center",children:[(0,s.jsx)("strong",{className:"text-sm",children:"Commands"}),(0,s.jsx)(l.WH,{title:(0,s.jsxs)(s.Fragment,{children:["Custom command use when executing container.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"An example and popular use case is to run a bash script to install packages or run specific commands."]}),children:(0,s.jsx)(a.Z,{className:"ml-2 text-xs text-muted-foreground"})}),(0,s.jsx)("span",{className:"ml-4 cursor-pointer text-sm font-normal text-primary underline",onClick:()=>d(void 0===m||m),children:"Edit"})]}),((null==c?void 0:null===(n=c.command)||void 0===n?void 0:null===(t=n.command)||void 0===t?void 0:t.length)||0)>0?(0,s.jsxs)("div",{className:"whitespace-pre-wrap text-xs",children:[(0,s.jsx)("div",{children:null===(i=c.command)||void 0===i?void 0:i.command}),(0,s.jsx)("div",{className:"text-muted-foreground",children:null===(o=c.command)||void 0===o?void 0:o.arg})]}):(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"None"})]})}},34183:function(e,t,n){n.d(t,{a:function(){return d}});var s=n(52322),l=n(53914),a=n(67810),r=n(89870),i=n(47397),o=n(49158),c=n(17759);let d=e=>{let{control:t,serviceIndex:n}=e;return(0,s.jsx)(a.Wi,{control:t,name:"services.".concat(n,".profile.cpu"),render:e=>{let{field:t,fieldState:n}=e;return(0,s.jsx)(c.h,{children:(0,s.jsxs)(a.xJ,{children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(l.JKp,{className:"mr-2 text-2xl text-muted-foreground"}),(0,s.jsx)("strong",{className:"text-sm",children:"CPU"}),(0,s.jsx)(a.WH,{title:(0,s.jsxs)(s.Fragment,{children:["The amount of vCPU's required for this workload.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"The maximum for a single instance is ",i.Ac.maxCpuAmount," vCPU's.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"The maximum total multiplied by the count of instances is 512 vCPU's."]}),children:(0,s.jsx)(r.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),(0,s.jsx)(a.II,{type:"number",color:"secondary",error:!!n.error,value:t.value||"",onChange:e=>t.onChange(parseFloat(e.target.value)),min:.1,step:.1,max:i.Ac.maxCpuAmount,inputClassName:"ml-4 w-[100px]"})]}),(0,s.jsx)("div",{className:"pt-2",children:(0,s.jsx)(a.iR,{value:[t.value||0],min:.1,max:i.Ac.maxCpuAmount,step:1,color:"secondary","aria-label":"CPU",onValueChange:e=>t.onChange(e)})}),(0,s.jsx)(a.zG,{className:(0,o.cn)({"pt-2":!!n.error})})]})})}})}},18714:function(e,t,n){n.d(t,{N:function(){return m}});var s=n(52322),l=n(2784),a=n(63955),r=n(67810),i=n(86607),o=n(37164),c=n(49158),d=n(17759);let m=e=>{let{control:t,serviceIndex:n,envs:m,onClose:u,hasSecretOption:x=!0}=e,{fields:p,remove:h,append:v}=(0,a.Dq)({control:t,name:"services.".concat(n,".env"),keyName:"id"});(0,l.useEffect)(()=>{0===m.length&&g()},[]);let g=()=>{v({id:(0,o.x0)(),key:"",value:"",isSecret:!1})},f=()=>{let e=[];m.forEach((t,n)=>{t.key.trim()||e.push(n)}),h(e),u()};return(0,s.jsx)(r.GI,{fullWidth:!0,open:!0,variant:"custom",title:"Edit Environment Variables",actions:[{label:"Close",color:"primary",variant:"ghost",side:"left",onClick:f},{label:"Add Variable",color:"secondary",variant:"default",side:"right",onClick:g}],onClose:f,maxWidth:"md",enableCloseOnBackdropClick:!0,children:(0,s.jsx)(d.h,{contentClassName:"bg-popover",children:p.map((e,l)=>(0,s.jsxs)("div",{className:(0,c.cn)("flex",{"mb-2":l+1!==p.length}),children:[(0,s.jsxs)("div",{className:"flex flex-grow flex-col items-end sm:flex-row",children:[(0,s.jsx)(r.Wi,{control:t,name:"services.".concat(n,".env.").concat(l,".key"),render:e=>{let{field:t}=e;return(0,s.jsx)("div",{className:"basis-[40%]",children:(0,s.jsx)(r.yt,{type:"text",label:"Key",color:"secondary",value:t.value,onChange:e=>t.onChange(e.target.value),className:"w-full"})})}}),(0,s.jsx)(r.Wi,{control:t,name:"services.".concat(n,".env.").concat(l,".value"),render:e=>{let{field:t}=e;return(0,s.jsx)("div",{className:"ml-2 flex-grow",children:(0,s.jsx)(r.yt,{type:"text",label:"Value",color:"secondary",value:t.value,onChange:e=>t.onChange(e.target.value),className:"w-full"})})}})]}),(0,s.jsxs)("div",{className:(0,c.cn)("flex w-[50px] flex-col items-start pl-2",{"justify-between":l>0,"justify-end":0===l||!x}),children:[l>0&&(0,s.jsx)(r.zx,{onClick:()=>h(l),size:"icon",variant:"ghost",children:(0,s.jsx)(i.Z,{})}),x&&(0,s.jsx)(a.Qr,{control:t,name:"services.".concat(n,".env.").concat(l,".isSecret"),render:e=>{let{field:t}=e;return(0,s.jsx)(r.vQ,{title:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"Secret"})}),(0,s.jsx)("p",{className:"text-sm",children:"This is for secret variables containing sensitive information you don't want to be saved in your template."})]}),children:(0,s.jsx)(r.rs,{checked:!!t.value,onCheckedChange:t.onChange})})}})]})]},e.id))})})}},60418:function(e,t,n){n.d(t,{r:function(){return o}});var s=n(52322),l=n(67810),a=n(89870),r=n(58639),i=n(17759);let o=e=>{var t,n;let{currentService:o,setIsEditingEnv:c,serviceIndex:d}=e,{hasComponent:m}=(0,r.iS)();return(0,s.jsxs)(i.h,{className:"whitespace-break-spaces break-all",children:[(0,s.jsxs)("div",{className:"mb-2 flex items-center",children:[(0,s.jsx)("strong",{className:"text-sm",children:"Environment Variables"}),(0,s.jsx)(l.WH,{title:(0,s.jsxs)(s.Fragment,{children:["A list of environment variables to expose to the running container.",m("ssh")&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Note: The SSH_PUBKEY environment variable is reserved and is going to be overridden by the value provided to the relevant field."]}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"https://akash.network/docs/getting-started/stack-definition-language/#services",target:"_blank",rel:"noopener",children:"View official documentation."})]}),children:(0,s.jsx)(a.Z,{className:"ml-2 text-xs text-muted-foreground"})}),(0,s.jsx)("span",{className:"ml-4 cursor-pointer text-sm font-normal text-primary underline",onClick:()=>c(void 0===d||d),children:"Edit"})]}),((null===(t=o.env)||void 0===t?void 0:t.length)||0)>0?null===(n=o.env)||void 0===n?void 0:n.map((e,t)=>(0,s.jsxs)("div",{className:"text-xs",children:[e.key,"=",(0,s.jsx)("span",{className:"text-muted-foreground",children:e.value})]},t)):(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"None"})]})}},14589:function(e,t,n){n.d(t,{H:function(){return v}});var s=n(52322),l=n(2784),a=n(63955),r=n(67810),i=n(89870),o=n(86607),c=n(37164),d=n(52904),m=n(49158),u=n(17759);let x=(0,l.forwardRef)((e,t)=>{let{control:n,serviceIndex:d,exposeIndex:x,accept:p}=e,{fields:h,remove:v,append:g}=(0,a.Dq)({control:n,name:"services.".concat(d,".expose.").concat(x,".accept"),keyName:"id"});return(0,l.useImperativeHandle)(t,()=>({_removeAccept(e){v(e)}})),(0,s.jsxs)(u.h,{className:"h-full",contentClassName:"h-full flex items-start flex-col justify-between",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center",children:[(0,s.jsx)("strong",{className:"text-sm",children:"Accept"}),(0,s.jsx)(r.WH,{title:(0,s.jsx)(s.Fragment,{children:"List of hosts/domains to accept connections for."}),children:(0,s.jsx)(i.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),h.map((e,t)=>(0,s.jsx)("div",{className:(0,m.cn)("w-full",{"mb-2":t+1!==h.length}),children:(0,s.jsxs)("div",{className:"flex items-end",children:[(0,s.jsx)("div",{className:"flex-grow",children:(0,s.jsx)(r.Wi,{control:n,name:"services.".concat(d,".expose.").concat(x,".accept.").concat(t,".value"),render:e=>{let{field:t}=e;return(0,s.jsx)(r.yt,{type:"text",label:"Value",color:"secondary",placeholder:"example.com",value:t.value,onChange:e=>t.onChange(e.target.value)})}})}),(0,s.jsx)("div",{className:"pl-2",children:(0,s.jsx)(r.zx,{onClick:()=>v(t),size:"icon",variant:"ghost",children:(0,s.jsx)(o.Z,{})})})]})},e.id)),(0,s.jsx)("div",{className:(0,m.cn)("flex items-center",{"mt-4":p&&p.length>0}),children:(0,s.jsx)(r.zx,{variant:"default",size:"sm",onClick:()=>{g({id:(0,c.x0)(),value:""})},children:"Add Accept"})})]})}),p=e=>{var t,n;let{control:l,serviceIndex:o,exposeIndex:c,services:x}=e,p=x[o];return(0,s.jsxs)(u.h,{className:"h-full",contentClassName:"h-full flex items-start flex-col justify-between",children:[(0,s.jsxs)("div",{className:(0,m.cn)("flex items-center",{"mb-8":!!(null===(t=p.expose[c])||void 0===t?void 0:t.hasCustomHttpOptions)}),children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("strong",{className:"text-sm",children:"HTTP Options"}),(0,s.jsx)(r.WH,{title:(0,s.jsxs)(s.Fragment,{children:["Aethernet deployment SDL services stanza definitions have been augmented to include “http_options” allowing granular specification of HTTP endpoint parameters. Inclusion of the parameters in this section are optional but will afford detailed definitions of attributes such as body/payload max size where necessary.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"https://akash.network/docs/network-features/deployment-http-options/",target:"_blank",rel:"noopener",children:"View official documentation."})]}),children:(0,s.jsx)(i.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),(0,s.jsx)("div",{className:"ml-8 flex items-center",children:(0,s.jsx)(a.Qr,{control:l,name:"services.".concat(o,".expose.").concat(c,".hasCustomHttpOptions"),render:e=>{let{field:t}=e;return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(r.XZ,{id:"custom-options-".concat(o,"-").concat(c),checked:t.value,onCheckedChange:t.onChange}),(0,s.jsx)("label",{htmlFor:"custom-options-".concat(o,"-").concat(c),className:"cursor-pointer text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Custom Options"})]})}})})]}),(null===(n=p.expose[c])||void 0===n?void 0:n.hasCustomHttpOptions)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Wi,{control:l,name:"services.".concat(o,".expose.").concat(c,".httpOptions.maxBodySize"),render:e=>{let{field:t}=e;return(0,s.jsx)(r.yt,{type:"number",label:(0,s.jsxs)("div",{className:"inline-flex items-center",children:["Max Body Size",(0,s.jsx)(r.WH,{title:"Sets the maximum size of an individual HTTP request body.",children:(0,s.jsx)(i.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),className:"mb-2 w-full",value:t.value,onChange:e=>t.onChange(parseInt(e.target.value)),min:0})}}),(0,s.jsx)(r.Wi,{control:l,name:"services.".concat(o,".expose.").concat(c,".httpOptions.readTimeout"),render:e=>{let{field:t}=e;return(0,s.jsx)(r.yt,{type:"number",label:(0,s.jsxs)("div",{className:"inline-flex items-center",children:["Read Timeout",(0,s.jsx)(r.WH,{title:"Duration the proxy will wait for a response from the service.",children:(0,s.jsx)(i.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),className:"mb-2 w-full",value:t.value,onChange:e=>t.onChange(parseInt(e.target.value)),min:0})}}),(0,s.jsx)(r.Wi,{control:l,name:"services.".concat(o,".expose.").concat(c,".httpOptions.sendTimeout"),render:e=>{let{field:t}=e;return(0,s.jsx)(r.yt,{type:"number",label:(0,s.jsxs)("div",{className:"inline-flex items-center",children:["Send Timeout",(0,s.jsx)(r.WH,{title:"Duration the proxy will wait for the service to accept a request.",children:(0,s.jsx)(i.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),className:"mb-2 w-full",value:t.value,onChange:e=>t.onChange(parseInt(e.target.value)),min:0})}}),(0,s.jsx)(r.Wi,{control:l,name:"services.".concat(o,".expose.").concat(c,".httpOptions.nextTries"),render:e=>{let{field:t}=e;return(0,s.jsx)(r.yt,{type:"number",label:(0,s.jsxs)("div",{className:"inline-flex items-center",children:["Next Tries",(0,s.jsx)(r.WH,{title:"Number of attempts the proxy will attempt another replica.",children:(0,s.jsx)(i.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),className:"mb-2 w-full",value:t.value,onChange:e=>t.onChange(parseInt(e.target.value)),min:0})}}),(0,s.jsx)(r.Wi,{control:l,name:"services.".concat(o,".expose.").concat(c,".httpOptions.nextTimeout"),render:e=>{let{field:t}=e;return(0,s.jsx)(r.yt,{type:"number",label:(0,s.jsxs)("div",{className:"inline-flex items-center",children:["Next Timeout",(0,s.jsx)(r.WH,{title:"Duration the proxy will wait for the service to connect to another replica.",children:(0,s.jsx)(i.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),className:"mb-2 w-full",value:t.value,onChange:e=>t.onChange(parseInt(e.target.value)),min:0})}}),(0,s.jsx)(r.Wi,{control:l,name:"services.".concat(o,".expose.").concat(c,".httpOptions.nextCases"),defaultValue:[],render:e=>{let{field:t}=e;return(0,s.jsxs)(r.xJ,{className:"w-full",children:[(0,s.jsxs)(r.__,{className:"inline-flex items-center",children:["Next Cases",(0,s.jsx)(r.WH,{title:"Defines the cases where the proxy will try another replica in the service.  Reference the upcoming “Next Cases Attribute Usage” section for details pertaining to allowed values.",children:(0,s.jsx)(i.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),(0,s.jsx)(r.u9,{value:t.value.map(e=>({value:e,label:e}))||[],options:d.nV,hidePlaceholderWhenSelected:!0,placeholder:"Select Next Cases",emptyIndicator:(0,s.jsx)("p",{className:"text-md text-center leading-10 text-gray-600 dark:text-gray-400",children:"no results found."})})]})}})]})]})},h=(0,l.forwardRef)((e,t)=>{let{control:n,serviceIndex:d,exposeIndex:x,services:p}=e,{fields:h,remove:v,append:g}=(0,a.Dq)({control:n,name:"services.".concat(d,".expose.").concat(x,".to"),keyName:"id"}),f=p[d],j=p.filter(e=>(null==f?void 0:f.id)!==e.id);return(0,l.useImperativeHandle)(t,()=>({_removeTo(e){v(e)}})),(0,s.jsxs)(u.h,{className:"h-full",contentClassName:"h-full flex items-start flex-col justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"mb-4 flex items-center justify-between",children:(0,s.jsxs)("div",{className:"mb-4 flex items-center",children:[(0,s.jsx)("strong",{className:"text-sm",children:"To"}),(0,s.jsx)(r.WH,{title:(0,s.jsxs)(s.Fragment,{children:["List of entities allowed to connect.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"If the service is marked as global, it will allow connections from outside the datacenter.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"https://akash.network/docs/getting-started/stack-definition-language/#servicesexposeto",target:"_blank",rel:"noopener",children:"View official documentation."})]}),children:(0,s.jsx)(i.Z,{className:"ml-2 text-xs text-muted-foreground"})})]})}),h.map((e,t)=>(0,s.jsx)("div",{className:(0,m.cn)({"mb-2":t+1!==h.length}),children:(0,s.jsxs)("div",{className:"flex items-end",children:[(0,s.jsx)("div",{className:"flex-grow",children:(0,s.jsx)(a.Qr,{control:n,name:"services.".concat(d,".expose.").concat(x,".to.").concat(t,".value"),render:e=>{let{field:t}=e;return(0,s.jsxs)(r.OC,{value:t.value||"",onValueChange:t.onChange,children:[(0,s.jsx)(r.i4,{children:(0,s.jsx)(r.ki,{placeholder:"Select network"})}),(0,s.jsx)(r.Bw,{children:(0,s.jsx)(r.DI,{children:j.map(e=>(0,s.jsx)(r.Ql,{value:e.title,children:e.title},e.id))})})]})}})}),(0,s.jsx)("div",{className:"pl-2",children:(0,s.jsx)(r.zx,{onClick:()=>v(t),size:"icon",variant:"ghost",children:(0,s.jsx)(o.Z,{})})})]})},e.id)),0===j.length&&(0,s.jsx)("div",{className:"mb-4 text-xs text-muted-foreground",children:"There's no other service to expose to."})]}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(r.zx,{variant:"default",size:"sm",onClick:()=>{g({id:(0,c.x0)(),value:""})},disabled:0===j.length,children:"Add To"})})]})}),v=e=>{let{control:t,serviceIndex:n,onClose:v,expose:g,services:f}=e,j=(0,l.useRef)(null),b=(0,l.useRef)(null),{fields:y,remove:N,append:C}=(0,a.Dq)({control:t,name:"services.".concat(n,".expose"),keyName:"id"}),k=()=>{var e,t;let n=[],s=[];g.forEach(e=>{var t,l;null===(t=e.accept)||void 0===t||t.forEach((e,t)=>{e.value.trim()||n.push(t)}),null===(l=e.to)||void 0===l||l.forEach((e,t)=>{e.value.trim()||s.push(t)})}),null===(e=j.current)||void 0===e||e._removeAccept(n),null===(t=b.current)||void 0===t||t._removeTo(s),v()};return(0,s.jsx)(r.GI,{fullWidth:!0,open:!0,variant:"custom",title:(0,s.jsxs)("div",{className:"flex items-center",children:["Edit Port Expose",(0,s.jsx)(r.WH,{title:(0,s.jsxs)(s.Fragment,{children:["Expose is a list of settings describing what can connect to the service.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Map container ports to exposed http/https/tcp ports.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"https://akash.network/docs/getting-started/stack-definition-language/#servicesexpose",target:"_blank",rel:"noopener",children:"View official documentation."})]}),children:(0,s.jsx)(i.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),actions:[{label:"Close",color:"secondary",variant:"ghost",side:"left",onClick:k},{label:"Add Expose",color:"primary",variant:"default",side:"right",onClick:()=>{C({id:(0,c.x0)(),port:80,as:80,global:!0})}}],onClose:k,maxWidth:"xl",enableCloseOnBackdropClick:!0,children:y.map((e,l)=>{let c=g[l];return(0,s.jsxs)(u.h,{className:(0,m.cn)("bg-popover",{"mb-4":l+1!==y.length}),contentClassName:"flex",children:[(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsxs)("div",{className:"mb-4 grid grid-cols-1 gap-2 sm:grid-cols-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)(r.Wi,{control:t,name:"services.".concat(n,".expose.").concat(l,".port"),render:e=>{let{field:t}=e;return(0,s.jsx)(r.yt,{type:"number",label:(0,s.jsxs)("div",{className:"inline-flex items-center",children:["Port",(0,s.jsx)(r.WH,{title:(0,s.jsx)(s.Fragment,{children:"Container port to expose."}),children:(0,s.jsx)(i.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),min:1,max:65535,step:1,value:t.value,onChange:e=>t.onChange(parseInt(e.target.value))})}})}),(0,s.jsx)("div",{children:(0,s.jsx)(r.Wi,{control:t,name:"services.".concat(n,".expose.").concat(l,".as"),render:e=>{let{field:t}=e;return(0,s.jsx)(r.yt,{type:"number",label:(0,s.jsxs)("div",{className:"inline-flex items-center",children:["As",(0,s.jsx)(r.WH,{title:(0,s.jsx)(s.Fragment,{children:"Port number to expose the container port as."}),children:(0,s.jsx)(i.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),color:"secondary",value:t.value,onChange:e=>t.onChange(parseInt(e.target.value))})}})}),(0,s.jsx)("div",{children:(0,s.jsx)(r.Wi,{control:t,name:"services.".concat(n,".expose.").concat(l,".proto"),render:e=>{let{field:t}=e;return(0,s.jsxs)(r.xJ,{children:[(0,s.jsx)(r.lX,{children:"Protocol"}),(0,s.jsxs)(r.OC,{value:t.value||"",onValueChange:t.onChange,children:[(0,s.jsx)(r.i4,{children:(0,s.jsx)(r.ki,{placeholder:"Select protocol"})}),(0,s.jsx)(r.Bw,{children:(0,s.jsx)(r.DI,{children:d.ds.map(e=>(0,s.jsx)(r.Ql,{value:e.name,children:e.name},e.id))})})]}),(0,s.jsx)(r.zG,{})]})}})}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex h-full items-start",children:[(0,s.jsx)(a.Qr,{control:t,name:"services.".concat(n,".expose.").concat(l,".global"),render:e=>{let{field:t}=e;return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(r.XZ,{id:"global-".concat(n,"-").concat(l),checked:t.value,onCheckedChange:t.onChange}),(0,s.jsx)("label",{htmlFor:"global-".concat(n,"-").concat(l),className:"cursor-pointer text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Global"})]})}}),(0,s.jsx)(r.WH,{title:(0,s.jsx)(s.Fragment,{children:"Check if you want this service to be accessible from outside the datacenter."}),children:(0,s.jsx)(i.Z,{className:"ml-4 text-xs text-muted-foreground"})})]})})]}),(0,s.jsxs)("div",{className:"mb-4 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)(x,{control:t,serviceIndex:n,exposeIndex:l,ref:j,accept:(null==c?void 0:c.accept)||[]})}),(0,s.jsx)("div",{children:(0,s.jsx)(h,{control:t,serviceIndex:n,exposeIndex:l,ref:b,services:f})})]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(r.Wi,{control:t,name:"services.".concat(n,".expose.").concat(l,".ipName"),render:e=>{let{field:t}=e;return(0,s.jsx)(r.yt,{type:"text",label:(0,s.jsxs)("div",{className:"inline-flex items-center",children:["IP Name",(0,s.jsx)(r.WH,{title:(0,s.jsxs)(s.Fragment,{children:["Optional.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Option for Tenants to request publicly routable IP addresses for the services they deploy",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"https://akash.network/docs/network-features/ip-leases/",target:"_blank",rel:"noopener",children:"View official documentation."})]}),children:(0,s.jsx)(i.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),color:"secondary",value:t.value,onChange:e=>t.onChange(e.target.value)})}})}),(0,s.jsx)("div",{children:(0,s.jsx)(p,{control:t,serviceIndex:n,exposeIndex:l,services:f})})]}),0!==l&&(0,s.jsx)("div",{className:"pl-2",children:(0,s.jsx)(r.zx,{onClick:()=>N(l),size:"icon",variant:"ghost",children:(0,s.jsx)(o.Z,{})})})]},e.id)})})}},87109:function(e,t,n){n.d(t,{m:function(){return c}});var s=n(52322),l=n(67810),a=n(89870),r=n(58639),i=n(49158),o=n(17759);let c=e=>{var t;let{currentService:n,setIsEditingExpose:c,serviceIndex:d}=e,{hasComponent:m}=(0,r.iS)();return(0,s.jsxs)(o.h,{children:[(0,s.jsxs)("div",{className:"mb-2 flex items-center",children:[(0,s.jsx)("strong",{className:"text-sm",children:"Expose"}),(0,s.jsx)(l.WH,{title:(0,s.jsxs)(s.Fragment,{children:["Expose is a list of port settings describing what can connect to the service.",m("ssh")&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Note: Port 22 is reserved for SSH and is going to be exposed by default."]}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"https://akash.network/docs/getting-started/stack-definition-language/#servicesexpose",target:"_blank",rel:"noopener",children:"View official documentation."})]}),children:(0,s.jsx)(a.Z,{className:"ml-2 text-xs text-muted-foreground"})}),(0,s.jsx)("span",{className:"ml-4 cursor-pointer text-sm font-normal text-primary underline",onClick:()=>c(void 0===d||d),children:"Edit"})]}),null===(t=n.expose)||void 0===t?void 0:t.map((e,t)=>{var l,a;return(0,s.jsxs)("div",{className:(0,i.cn)("text-xs",{"mb-2":t+1!==n.expose.length}),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Port"}),"\xa0\xa0",(0,s.jsxs)("span",{className:"text-muted-foreground",children:[e.port," : ",e.as," (",e.proto,")"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Global"}),"\xa0\xa0",(0,s.jsx)("span",{className:"text-muted-foreground",children:e.global?"True":"False"})]}),e.ipName&&(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"IP Name"}),"\xa0\xa0",(0,s.jsx)("span",{className:"text-muted-foreground",children:e.ipName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Accept"}),"\xa0\xa0",(0,s.jsx)("span",{className:"text-muted-foreground",children:((null===(l=e.accept)||void 0===l?void 0:l.length)||0)>0?null===(a=e.accept)||void 0===a?void 0:a.map((e,t)=>(0,s.jsx)("span",{className:(0,i.cn)({"ml-2":0!==t}),children:e.value},t)):"None"})]})]},t)})]})}},74092:function(e,t,n){n.d(t,{w:function(){return j}});var s=n(52322),l=n(63955),a=n(53914),r=n(67810),i=n(4091),o=n(34189),c=n(53091),d=n(59860),m=n(33339),u=n(52798),x=n(89870),p=n(45340),h=n(86607);let v=[{id:1,value:"nvidia"}];var g=n(47397),f=n(17759);let j=e=>{let{gpuModels:t,control:n,serviceIndex:j,hasGpu:b,currentService:y,setValue:N,hideHasGpu:C}=e,{fields:k,remove:w,append:T}=(0,l.Dq)({control:n,name:"services.".concat(j,".profile.gpuModels"),keyName:"id"}),S=()=>{T({vendor:"nvidia",name:"",memory:"",interface:""})};return(0,s.jsxs)(f.h,{children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(r.Wi,{control:n,name:"services.".concat(j,".profile.gpu"),render:e=>{let{field:t,fieldState:o}=e;return(0,s.jsxs)(r.xJ,{className:(0,i.cn)("w-full"),children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(a.JKp,{className:"mr-2 text-2xl text-muted-foreground"}),(0,s.jsx)("strong",{children:"GPU"}),(0,s.jsx)(r.WH,{title:(0,s.jsxs)(s.Fragment,{children:["The amount of GPUs required for this workload.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"You can also specify the GPU vendor and model you want specifically. If you don't specify any model, providers with any GPU model will bid on your workload.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"https://akash.network/docs/getting-started/stack-definition-language/#gpu-support",target:"_blank",rel:"noopener",children:"View official documentation."})]}),children:(0,s.jsx)(x.Z,{className:"ml-4 text-xs text-muted-foreground"})})]}),!C&&(0,s.jsx)(l.Qr,{control:n,name:"services.".concat(j,".profile.hasGpu"),render:e=>{let{field:t}=e;return(0,s.jsx)(r.XZ,{checked:t.value,onCheckedChange:e=>{t.onChange(e),e&&0===k.length&&S()},className:"ml-2"})}})]}),b&&(0,s.jsx)("div",{className:"ml-4",children:(0,s.jsx)(r.II,{type:"number",color:"secondary",value:t.value||"",error:!!o.error,onChange:e=>t.onChange(parseFloat(e.target.value)),min:1,step:1,max:g.Ac.maxGpuAmount,inputClassName:"w-[100px]"})})]}),b&&(0,s.jsx)(r.iR,{value:[t.value||0],min:1,max:g.Ac.maxGpuAmount,step:1,color:"secondary","aria-label":"GPUs",className:"pt-2",onValueChange:e=>t.onChange(e)}),(0,s.jsx)(r.zG,{className:(0,i.cn)({"pt-2":!!o.error})})]})}})}),b&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"my-4",children:(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Picking specific GPU models below, filters out providers that don't have those GPUs and may reduce the number of bids you receive."})}),k.map((e,a)=>{var i,x,g;let f=y.profile.gpuModels&&y.profile.gpuModels[a],b=(null==t?void 0:null===(i=t.find(e=>e.name===(null==f?void 0:f.vendor)))||void 0===i?void 0:i.models)||[],C=(null===(x=b.find(e=>e.name===(null==f?void 0:f.name)))||void 0===x?void 0:x.interface)||[],k=(null===(g=b.find(e=>e.name===(null==f?void 0:f.name)))||void 0===g?void 0:g.memory)||[];return(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-12",children:[(0,s.jsx)("div",{className:"col-span-2",children:(0,s.jsx)(l.Qr,{control:n,name:"services.".concat(j,".profile.gpuModels.").concat(a,".vendor"),defaultValue:"",render:e=>{let{field:t}=e;return(0,s.jsxs)(o.Z,{fullWidth:!0,children:[(0,s.jsx)(d.Z,{id:"gpu-vendor-select-label",size:"small",children:"Vendor"}),(0,s.jsx)(u.Z,{labelId:"gpu-vendor-select-label",value:t.value||"",onChange:t.onChange,variant:"outlined",label:"Vendor",fullWidth:!0,size:"small",MenuProps:{disableScrollLock:!0},children:v.map(e=>(0,s.jsx)(m.Z,{value:e.value,children:e.value},e.id))})]})}})}),t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"col-span-3",children:(0,s.jsx)(l.Qr,{control:n,name:"services.".concat(j,".profile.gpuModels.").concat(a,".name"),render:e=>{var t;let{field:n}=e;return(0,s.jsxs)(o.Z,{fullWidth:!0,children:[(0,s.jsx)(d.Z,{id:"gpu-model-select-label",size:"small",children:"Model"}),(0,s.jsx)(u.Z,{labelId:"gpu-model-select-label",value:n.value||"",onChange:e=>{n.onChange(e),N("services.".concat(j,".profile.gpuModels.").concat(a,".memory"),""),N("services.".concat(j,".profile.gpuModels.").concat(a,".interface"),"")},variant:"outlined",size:"small",label:"Model",fullWidth:!0,IconComponent:((null===(t=n.value)||void 0===t?void 0:t.length)||0)>0?()=>(0,s.jsx)(c.Z,{size:"small",onClick:()=>{n.onChange(""),N("services.".concat(j,".profile.gpuModels.").concat(a,".memory"),""),N("services.".concat(j,".profile.gpuModels.").concat(a,".interface"),"")},children:(0,s.jsx)(p.Z,{className:"text-xs"})}):void 0,MenuProps:{disableScrollLock:!0},children:b.map(e=>(0,s.jsx)(m.Z,{value:e.name,children:e.name},e.name))})]})}})}),(0,s.jsx)("div",{className:"col-span-3",children:(0,s.jsx)(l.Qr,{control:n,name:"services.".concat(j,".profile.gpuModels.").concat(a,".memory"),render:e=>{var t;let{field:n}=e;return(0,s.jsxs)(o.Z,{fullWidth:!0,children:[(0,s.jsx)(d.Z,{id:"gpu-memory-select-label",size:"small",children:"Memory"}),(0,s.jsx)(u.Z,{labelId:"gpu-memory-select-label",value:n.value||"",onChange:n.onChange,variant:"outlined",size:"small",disabled:!(null==f?void 0:f.name),label:"Memory",fullWidth:!0,IconComponent:((null===(t=n.value)||void 0===t?void 0:t.length)||0)>0?()=>(0,s.jsx)(c.Z,{size:"small",onClick:()=>{n.onChange("")},children:(0,s.jsx)(p.Z,{fontSize:"small"})}):void 0,MenuProps:{disableScrollLock:!0},children:k.map(e=>(0,s.jsx)(m.Z,{value:e,children:e},e))})]})}})}),(0,s.jsx)("div",{className:"col-span-3",children:(0,s.jsx)(l.Qr,{control:n,name:"services.".concat(j,".profile.gpuModels.").concat(a,".interface"),render:e=>{var t;let{field:n}=e;return(0,s.jsxs)(o.Z,{fullWidth:!0,children:[(0,s.jsx)(d.Z,{id:"gpu-interface-select-label",size:"small",children:"Interface"}),(0,s.jsx)(u.Z,{labelId:"gpu-interface-select-label",value:n.value||"",onChange:n.onChange,variant:"outlined",size:"small",disabled:!(null==f?void 0:f.name),label:"Interface",fullWidth:!0,IconComponent:((null===(t=n.value)||void 0===t?void 0:t.length)||0)>0?()=>(0,s.jsx)(c.Z,{size:"small",onClick:()=>{n.onChange("")},children:(0,s.jsx)(p.Z,{fontSize:"small"})}):void 0,MenuProps:{disableScrollLock:!0},children:C.map(e=>(0,s.jsx)(m.Z,{value:e,children:e},e))})]})}})}),(0,s.jsx)("div",{className:"col-span-1 flex items-center justify-center",children:0!==a&&(0,s.jsx)(r.zx,{onClick:()=>w(a),size:"icon",type:"button",variant:"ghost",children:(0,s.jsx)(h.Z,{})})})]}):(0,s.jsxs)("div",{className:"ml-4 flex items-center",children:[(0,s.jsx)(r.$j,{}),(0,s.jsx)("span",{className:"ml-2 whitespace-nowrap text-sm text-muted-foreground",children:"Loading GPU models..."})]})]})},"".concat(a).concat(e.vendor).concat(e.name).concat(e.memory).concat(e.interface))})]}),t&&b&&(0,s.jsx)("div",{className:"mt-2 flex items-center justify-end",children:(0,s.jsx)(r.zx,{size:"sm",onClick:S,type:"button",children:"Add GPU"})})]})}},11414:function(e,t,n){n.d(t,{a:function(){return d}});var s=n(52322),l=n(63955),a=n(53914),r=n(67810),i=n(89870),o=n(47397),c=n(17759);let d=e=>{let{control:t,serviceIndex:n}=e;return(0,s.jsx)(r.Wi,{control:t,name:"services.".concat(n,".profile.ram"),render:e=>{let{field:d,fieldState:m}=e;return(0,s.jsx)(c.h,{children:(0,s.jsxs)(r.xJ,{children:[(0,s.jsxs)("div",{className:"flex flex-col items-start sm:flex-row sm:items-center",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(a.DC3,{className:"mr-2 text-2xl text-muted-foreground"}),(0,s.jsx)("strong",{className:"text-sm",children:"Memory"}),(0,s.jsx)(r.WH,{title:(0,s.jsxs)(s.Fragment,{children:["The amount of memory required for this workload.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"The maximum for a single instance is 512 Gi.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"The maximum total multiplied by the count of instances is 1024 Gi."]}),children:(0,s.jsx)(i.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),(0,s.jsxs)("div",{className:"mt-2 flex items-center sm:ml-4 sm:mt-0",children:[(0,s.jsx)(r.II,{type:"number",error:!!m.error,color:"secondary",value:d.value||"",onChange:e=>d.onChange(parseFloat(e.target.value)),min:1,step:1,inputClassName:"w-[100px]"}),(0,s.jsx)(l.Qr,{control:t,name:"services.".concat(n,".profile.ramUnit"),defaultValue:"",render:e=>{let{field:t}=e;return(0,s.jsxs)(r.OC,{value:t.value||"",onValueChange:t.onChange,children:[(0,s.jsx)(r.i4,{className:"ml-1 w-[75px]",children:(0,s.jsx)(r.ki,{placeholder:"Select unit"})}),(0,s.jsx)(r.Bw,{children:(0,s.jsx)(r.DI,{children:o._8.map(e=>(0,s.jsx)(r.Ql,{value:e.suffix,children:e.suffix},e.id))})})]})}})]})]}),(0,s.jsx)(r.iR,{value:[d.value||0],min:1,max:512,step:1,color:"secondary","aria-label":"RAM",onValueChange:e=>d.onChange(e),className:"pt-2"}),(0,s.jsx)(r.zG,{})]})})}})}},97611:function(e,t,n){n.d(t,{a:function(){return m}});var s=n(52322),l=n(63955),a=n(53914),r=n(67810),i=n(4091),o=n(89870),c=n(47397),d=n(17759);let m=e=>{let{currentService:t,serviceIndex:n,control:m}=e;return(0,s.jsxs)(d.h,{children:[(0,s.jsx)(r.Wi,{control:m,name:"services.".concat(n,".profile.persistentStorage"),render:e=>{let{field:d,fieldState:u}=e;return(0,s.jsxs)(r.xJ,{children:[(0,s.jsxs)("div",{className:"flex flex-col items-start sm:flex-row sm:items-center",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(a.WMK,{className:"mr-2 text-2xl text-muted-foreground"}),(0,s.jsx)("strong",{className:"text-sm",children:"Persistent Storage"}),(0,s.jsx)(r.WH,{title:(0,s.jsxs)(s.Fragment,{children:["The amount of persistent storage required for this workload.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"This storage is mounted on a persistent volume and persistent through the lifetime of the deployment",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("a",{href:"https://akash.network/docs/network-features/persistent-storage/",target:"_blank",rel:"noopener",children:"View official documentation."})]}),children:(0,s.jsx)(o.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),(0,s.jsx)(l.Qr,{control:m,name:"services.".concat(n,".profile.hasPersistentStorage"),render:e=>{let{field:t}=e;return(0,s.jsx)(r.XZ,{checked:t.value,onCheckedChange:t.onChange,className:"ml-4"})}})]}),t.profile.hasPersistentStorage&&(0,s.jsxs)("div",{className:"mt-2 flex items-center sm:ml-4 sm:mt-0",children:[(0,s.jsx)(r.II,{type:"number",color:"secondary",value:d.value||"",error:!!u.error,onChange:e=>d.onChange(parseFloat(e.target.value)),min:1,step:1,inputClassName:"w-[100px]"}),(0,s.jsx)(l.Qr,{control:m,name:"services.".concat(n,".profile.persistentStorageUnit"),defaultValue:"",render:e=>{let{field:t}=e;return(0,s.jsxs)(r.OC,{value:t.value||"",onValueChange:t.onChange,children:[(0,s.jsx)(r.i4,{className:"ml-1 w-[75px]",children:(0,s.jsx)(r.ki,{placeholder:"Select unit"})}),(0,s.jsx)(r.Bw,{children:(0,s.jsx)(r.DI,{children:c.rk.map(e=>(0,s.jsx)(r.Ql,{value:e.suffix,children:e.suffix},e.id))})})]})}})]})]}),t.profile.hasPersistentStorage&&(0,s.jsx)(r.iR,{value:[d.value||0],min:1,max:512,step:1,onValueChange:e=>d.onChange(e),className:"pt-2"}),(0,s.jsx)(r.zG,{className:(0,i.cn)({"pt-2":!!u.error})})]})}}),t.profile.hasPersistentStorage&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mt-4 flex items-start",children:[(0,s.jsx)(r.Wi,{control:m,name:"services.".concat(n,".profile.persistentStorageParam.name"),render:e=>{let{field:t}=e;return(0,s.jsx)(r.yt,{type:"text",label:(0,s.jsxs)("div",{className:"inline-flex items-center",children:["Name",(0,s.jsx)(r.WH,{title:(0,s.jsxs)(s.Fragment,{children:["The name of the persistent volume.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Multiple services can gain access to the same volume by name."]}),children:(0,s.jsx)(o.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),value:t.value,onChange:e=>t.onChange(e.target.value),className:"flex-grow"})}}),(0,s.jsxs)("div",{className:"ml-4 flex items-center",children:[(0,s.jsx)(r.__,{className:"whitespace-nowrap",children:"Read only"}),(0,s.jsx)(l.Qr,{control:m,name:"services.".concat(n,".profile.persistentStorageParam.readOnly"),render:e=>{let{field:t}=e;return(0,s.jsx)(r.XZ,{checked:t.value,onCheckedChange:t.onChange,className:"ml-2"})}})]})]}),(0,s.jsxs)("div",{className:"mt-4 flex items-start",children:[(0,s.jsx)(r.Wi,{control:m,name:"services.".concat(n,".profile.persistentStorageParam.type"),render:e=>{let{field:n}=e;return(0,s.jsxs)(r.xJ,{className:"w-full basis-[40%]",children:[(0,s.jsx)(r.lX,{htmlFor:"persistent-storage-type-".concat(t.id),children:"Type"}),(0,s.jsxs)(r.OC,{value:n.value||"",onValueChange:n.onChange,children:[(0,s.jsx)(r.i4,{id:"persistent-storage-type-".concat(t.id),children:(0,s.jsx)(r.ki,{placeholder:"Select token"})}),(0,s.jsx)(r.Bw,{children:(0,s.jsx)(r.DI,{children:c.vF.map(e=>(0,s.jsx)(r.Ql,{value:e.className,children:e.name},e.id))})})]}),(0,s.jsx)(r.zG,{})]})}}),(0,s.jsx)(r.Wi,{control:m,name:"services.".concat(n,".profile.persistentStorageParam.mount"),render:e=>{let{field:t}=e;return(0,s.jsx)(r.yt,{type:"text",label:(0,s.jsxs)("div",{className:"inline-flex items-center",children:["Mount",(0,s.jsx)(r.WH,{title:(0,s.jsxs)(s.Fragment,{children:["The path to mount the persistent volume to.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Example: /mnt/data"]}),children:(0,s.jsx)(o.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),placeholder:"Example: /mnt/data",value:t.value,onChange:e=>t.onChange(e.target.value),className:"ml-2 w-full"})}})]})]})]})}},72549:function(e,t,n){n.d(t,{S:function(){return d}});var s=n(52322),l=n(63955),a=n(53914),r=n(67810),i=n(89870),o=n(47397),c=n(17759);let d=e=>{let{control:t,serviceIndex:n}=e;return(0,s.jsx)(r.Wi,{control:t,name:"services.".concat(n,".profile.storage"),render:e=>{let{field:d,fieldState:m}=e;return(0,s.jsx)(c.h,{children:(0,s.jsxs)(r.xJ,{children:[(0,s.jsxs)("div",{className:"flex flex-col items-start sm:flex-row sm:items-center",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(a.WMK,{className:"mr-2 text-2xl text-muted-foreground"}),(0,s.jsx)("strong",{className:"text-sm",children:"Ephemeral Storage"}),(0,s.jsx)(r.WH,{title:(0,s.jsxs)(s.Fragment,{children:["The amount of ephemeral disk storage required for this workload.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"This disk storage is ephemeral, meaning it will be wiped out on every deployment update or provider reboot.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"The maximum for a single instance is 32 Ti.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"The maximum total multiplied by the count of instances is also 32 Ti."]}),children:(0,s.jsx)(i.Z,{className:"ml-2 text-xs text-muted-foreground"})})]}),(0,s.jsxs)("div",{className:"mt-2 flex items-center sm:ml-4 sm:mt-0",children:[(0,s.jsx)(r.II,{type:"number",color:"secondary",value:d.value||"",error:!!m.error,onChange:e=>d.onChange(parseFloat(e.target.value)),min:1,step:1,inputClassName:"w-[100px]"}),(0,s.jsx)(l.Qr,{control:t,name:"services.".concat(n,".profile.storageUnit"),defaultValue:"",render:e=>{let{field:t}=e;return(0,s.jsxs)(r.OC,{value:t.value||"",onValueChange:t.onChange,children:[(0,s.jsx)(r.i4,{className:"ml-1 w-[75px]",children:(0,s.jsx)(r.ki,{placeholder:"Select unit"})}),(0,s.jsx)(r.Bw,{children:(0,s.jsx)(r.DI,{children:o.rk.map(e=>(0,s.jsx)(r.Ql,{value:e.suffix,children:e.suffix},e.id))})})]})}})]})]}),(0,s.jsx)(r.iR,{value:[d.value||0],min:1,max:512,step:1,color:"secondary","aria-label":"Storage",onValueChange:e=>d.onChange(e),className:"pt-2"}),(0,s.jsx)(r.zG,{})]})})}})}},36523:function(e,t,n){n.d(t,{R:function(){return r}});var s=n(52322),l=n(67810),a=n(40284);let r=e=>{let{control:t,name:n,defaultValue:r}=e,i=(0,a.RJ)();return(0,s.jsx)(l.Wi,{control:t,name:n,defaultValue:r,render:e=>{let{field:t}=e;return(0,s.jsxs)(l.xJ,{children:[(0,s.jsx)(l.lX,{children:"Token"}),(0,s.jsxs)(l.OC,{value:t.value||"",onValueChange:t.onChange,children:[(0,s.jsx)(l.i4,{children:(0,s.jsx)(l.ki,{placeholder:"Select token"})}),(0,s.jsx)(l.Bw,{children:(0,s.jsx)(l.DI,{children:i.map(e=>(0,s.jsx)(l.Ql,{value:e.value,children:e.tokenLabel},e.id))})})]}),(0,s.jsx)(l.zG,{})]})}})}},36200:function(e,t,n){n.d(t,{T:function(){return a}});var s=n(52322);n(2784);var l=n(55351);let a=e=>{let{title:t,description:n="",url:a,images:r}=e;return(0,s.jsx)(l.PB,{title:t,description:n,canonical:a,openGraph:{url:a,title:t,description:n,images:r}})}},58639:function(e,t,n){n.d(t,{F0:function(){return d},iS:function(){return c}});var s=n(52322),l=n(2784),a=n(52904);let r=l.createContext(void 0),i={ssh:["command","service-count","ssh-toggle","yml-editor","yml-uploader"],"ssh-toggled":["ssh"],default:["ssh","ssh-toggle"]},o=e=>{let{children:t,imageSource:n,...o}=e,c="hiddenComponents"in o&&o.hiddenComponents||"componentsSet"in o&&i[o.componentsSet]||i.default,d="ssh-vms"===n?a.hW:void 0,[m,u]=(0,l.useState)(new Set(c||[])),x=(0,l.useCallback)(e=>{u(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},[u]),p=(0,l.useCallback)(e=>!m.has(e),[m]),h=(0,l.useMemo)(()=>({hasComponent:p,toggleCmp:x,imageList:d}),[d,p,x]);return(0,s.jsx)(r.Provider,{value:h,children:t})},c=()=>{let e=l.useContext(r);if(!e)throw Error("useSdlBuilder must be used within a SdlContext");return e},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return function(n){return(0,s.jsx)(o,{...e,children:(0,s.jsx)(t,{...n})})}}}},67899:function(e,t,n){n.d(t,{P:function(){return o}});var s=n(82066),l=n(87066),a=n(67155),r=n(94590);async function i(){return(await l.Z.get(a.ig.gpuModels())).data}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.useQuery)(r.i.getGpuModelsKey(),()=>i(),{...e,refetchInterval:!1,refetchIntervalInBackground:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})}},19186:function(e,t,n){n.d(t,{Bt:function(){return r.Bt},v6:function(){return i}});var s=n(65070),l=n(51328),a=n(66443),r=n(99208);let i={[l.GI]:a,[l.am]:a,[l.Ie]:a}[s.ZP.getSelectedNetwork().id]},52904:function(e,t,n){n.d(t,{EG:function(){return i},TU:function(){return d},cj:function(){return x},ds:function(){return l},gM:function(){return a},hW:function(){return o},lc:function(){return m},nV:function(){return p},og:function(){return u},ss:function(){return r},up:function(){return c}});var s=n(37164);let l=[{id:1,name:"http"},{id:3,name:"tcp"}],a={maxBodySize:1048576,readTimeout:6e4,sendTimeout:6e4,nextCases:["error","timeout"],nextTries:3,nextTimeout:6e4},r={id:(0,s.x0)(),title:"service-1",image:"",sshPubKey:"",profile:{cpu:.1,gpu:1,gpuModels:[{vendor:"nvidia"}],hasGpu:!1,ram:512,ramUnit:"Mi",storage:1,storageUnit:"Gi",hasPersistentStorage:!1,persistentStorage:10,persistentStorageUnit:"Gi",persistentStorageParam:{name:"data",type:"beta2",mount:""}},expose:[{id:(0,s.x0)(),port:80,as:80,proto:"http",global:!0,to:[],accept:[],ipName:"",httpOptions:{maxBodySize:a.maxBodySize,readTimeout:a.readTimeout,sendTimeout:a.sendTimeout,nextCases:a.nextCases,nextTries:a.nextTries,nextTimeout:a.nextTimeout}}],command:{command:"",arg:""},env:[],placement:{name:"dcloud",pricing:{amount:1e4,denom:"uakt"},signedBy:{anyOf:[],allOf:[]},attributes:[]},count:1},i={"Ubuntu 24.04":"ghcr.io/akash-network/ubuntu-2404-ssh:2","CentOS Stream 9":"ghcr.io/akash-network/centos-stream9-ssh:2","Debian 11":"ghcr.io/akash-network/debian-11-ssh:2","SuSE Leap 15.5":"ghcr.io/akash-network/opensuse-leap-155-ssh:2"},o=Object.keys(i),c=new Set(Object.values(i)),d={port:22,as:22,global:!0,to:[]},m={...r,expose:[]},u={id:(0,s.x0)(),title:"service-1",image:"",profile:{cpu:.1,gpu:1,gpuModels:[{vendor:"nvidia"}],hasGpu:!0,ram:512,ramUnit:"Mi",storage:1,storageUnit:"Gi",hasPersistentStorage:!1,persistentStorage:10,persistentStorageUnit:"Gi",persistentStorageParam:{name:"data",type:"beta2",mount:""}},expose:[{id:(0,s.x0)(),port:80,as:80,proto:"http",global:!0,to:[],accept:[],ipName:"",httpOptions:{maxBodySize:a.maxBodySize,readTimeout:a.readTimeout,sendTimeout:a.sendTimeout,nextCases:a.nextCases,nextTries:a.nextTries,nextTimeout:a.nextTimeout}}],command:{command:"",arg:""},env:[],placement:{name:"dcloud",pricing:{amount:1e4,denom:"uakt"},signedBy:{anyOf:[],allOf:[]},attributes:[]},count:1},x={key:"any",value:"any",description:"Any region"},p=[{value:"error",label:"error"},{value:"timeout",label:"timeout"},{value:"403",label:"403"},{value:"404",label:"404"},{value:"429",label:"429"},{value:"500",label:"500"},{value:"502",label:"502"},{value:"503",label:"503"},{value:"504",label:"504"},{value:"off",label:"off"}]},85636:function(e,t,n){n.d(t,{C:function(){return a}});var s=n(93524),l=n(52904);let a=(e,t)=>{let n={version:"2.0",services:{},profiles:{compute:{},placement:{}},deployment:{}};e.forEach(e=>{var s,a,i,o,c,d,m,u,x,p,h,v,g,f,j,b,y,N,C,k,w,T,S,O;n.services[e.title]={image:e.image,expose:e.expose.map(e=>{var t,n,s,a,i,o,c,d,m,u,x,p,h,v;let g={port:e.port};e.as&&(g.as=e.as);let f=null===(t=e.accept)||void 0===t?void 0:t.map(e=>e.value);((null==f?void 0:f.length)||0)>0&&(g.accept=f);let j=r(e);j&&(g.proto=j);let b=null===(n=e.to)||void 0===n?void 0:n.map(e=>({service:e.value}));return g.to=[{global:!!e.global,...e.ipName?{ip:e.ipName}:{}}].concat(b),e.hasCustomHttpOptions&&(g.http_options={max_body_size:null!==(m=null===(s=e.httpOptions)||void 0===s?void 0:s.maxBodySize)&&void 0!==m?m:l.gM.maxBodySize,read_timeout:null!==(u=null===(a=e.httpOptions)||void 0===a?void 0:a.readTimeout)&&void 0!==u?u:l.gM.readTimeout,send_timeout:null!==(x=null===(i=e.httpOptions)||void 0===i?void 0:i.sendTimeout)&&void 0!==x?x:l.gM.sendTimeout,next_cases:null!==(p=null===(o=e.httpOptions)||void 0===o?void 0:o.nextCases)&&void 0!==p?p:l.gM.nextCases,next_tries:null!==(h=null===(c=e.httpOptions)||void 0===c?void 0:c.nextTries)&&void 0!==h?h:l.gM.nextTries,next_timeout:null!==(v=null===(d=e.httpOptions)||void 0===d?void 0:d.nextTimeout)&&void 0!==v?v:l.gM.nextTimeout}),g})};let W=null===(a=e.command)||void 0===a?void 0:null===(s=a.command)||void 0===s?void 0:s.trim();if(((null==W?void 0:W.length)||0)>0&&(n.services[e.title].command=null==W?void 0:W.split(" ").filter(e=>e),n.services[e.title].args=[null===(p=e.command)||void 0===p?void 0:null===(x=p.arg)||void 0===x?void 0:x.trim()]),((null===(i=e.env)||void 0===i?void 0:i.length)||0)>0&&(n.services[e.title].env=null===(h=e.env)||void 0===h?void 0:h.map(e=>{var t;return"".concat(e.key.trim(),"=").concat(e.isSecret?"":null===(t=e.value)||void 0===t?void 0:t.trim())})),n.profiles.compute[e.title]={resources:{cpu:{units:e.profile.cpu},memory:{size:"".concat(e.profile.ram).concat(e.profile.ramUnit)},storage:[{size:"".concat(e.profile.storage).concat(e.profile.storageUnit)}]}},e.profile.hasGpu)for(let[t,s]of(n.profiles.compute[e.title].resources.gpu={units:e.profile.gpu,attributes:{vendor:{}}},Object.entries(null===(v=e.profile.gpuModels)||void 0===v?void 0:v.reduce((e,t)=>{var n;let{vendor:s}=t;return e[s]=null!==(n=e[s])&&void 0!==n?n:[],e[s].push(t),e},{})))){let l=s.map(e=>{let t=null;return e.name&&(t={model:e.name}),t&&e.memory&&(t.ram=e.memory),t&&e.interface&&(t.interface=e.interface),t}).filter(e=>e);n.profiles.compute[e.title].resources.gpu.attributes.vendor[t]=l.length>0?l:null}e.profile.hasPersistentStorage&&(n.services[e.title].params={storage:{[null===(g=e.profile.persistentStorageParam)||void 0===g?void 0:g.name]:{mount:null===(f=e.profile.persistentStorageParam)||void 0===f?void 0:f.mount,readOnly:!!(null===(j=e.profile.persistentStorageParam)||void 0===j?void 0:j.readOnly)}}},n.profiles.compute[e.title].resources.storage.push({name:null===(b=e.profile.persistentStorageParam)||void 0===b?void 0:b.name,size:"".concat(e.profile.persistentStorage).concat(e.profile.persistentStorageUnit),attributes:{persistent:!0,class:null===(y=e.profile.persistentStorageParam)||void 0===y?void 0:y.type}})),n.profiles.placement[e.placement.name]=n.profiles.placement[e.placement.name]||{pricing:{}},n.profiles.placement[e.placement.name].pricing[e.title]={denom:e.placement.pricing.denom,amount:e.placement.pricing.amount},(((null===(c=e.placement.signedBy)||void 0===c?void 0:null===(o=c.anyOf)||void 0===o?void 0:o.length)||0)>0||((null===(m=e.placement.signedBy)||void 0===m?void 0:null===(d=m.anyOf)||void 0===d?void 0:d.length)||0)>0)&&(((null===(C=e.placement.signedBy)||void 0===C?void 0:null===(N=C.anyOf)||void 0===N?void 0:N.length)||0)>0&&(n.profiles.placement[e.placement.name].signedBy={anyOf:null===(T=e.placement.signedBy)||void 0===T?void 0:T.anyOf.map(e=>e.value)}),((null===(w=e.placement.signedBy)||void 0===w?void 0:null===(k=w.allOf)||void 0===k?void 0:k.length)||0)>0&&(n.profiles.placement[e.placement.name].signedBy.allOf=null===(S=e.placement.signedBy)||void 0===S?void 0:S.allOf.map(e=>e.value))),((null===(u=e.placement.attributes)||void 0===u?void 0:u.length)||0)>0&&(n.profiles.placement[e.placement.name].attributes=null===(O=e.placement.attributes)||void 0===O?void 0:O.reduce((e,t)=>(e[t.key]=t.value,e),{})),t&&"any"!==t&&(n.profiles.placement[e.placement.name].attributes={...n.profiles.placement[e.placement.name].attributes||{},"location-region":t.toLowerCase()}),e.expose.some(e=>e.ipName)&&(n.endpoints={},e.expose.filter(e=>e.ipName).forEach(e=>{n.endpoints[e.ipName]={kind:"ip"}})),n.deployment[e.title]={[e.placement.name]:{profile:e.title,count:e.count}}});let a=s.ZP.dump(n,{indent:2,quotingType:'"',styles:{"!!null":"empty"}});return"---\n".concat(a)},r=e=>e.proto&&"http"===e.proto?null:e.proto},24006:function(e,t,n){n.d(t,{Z:function(){return o}});var s=n(93524),l=n(37164),a=n(19186),r=n(88540),i=n(52904);let o=e=>{try{let t=s.ZP.load(e),n=[];return Object.keys(t.services).sort().forEach(e=>{var s,r,o,u,x,p,h,v,g,f;let j=t.services[e],b={id:(0,l.x0)(),title:e,image:j.image},y=t.profiles.compute[e],N=y.resources.storage.map?y.resources.storage:[y.resources.storage],C=N.find(e=>{var t;return(null===(t=e.attributes)||void 0===t?void 0:t.persistent)===!0}),k=!!C,w=N.find(e=>!e.attributes),T=k?C.name:"data";b.profile={cpu:y.resources.cpu.units,gpu:y.resources.gpu?y.resources.gpu.units:1,gpuModels:y.resources.gpu?m(y.resources.gpu.attributes.vendor):[],hasGpu:!!y.resources.gpu,ram:c(y.resources.memory.size),ramUnit:d(y.resources.memory.size),storage:c((null==w?void 0:w.size)||"1Gi"),storageUnit:d((null==w?void 0:w.size)||"1Gi"),hasPersistentStorage:k,persistentStorage:k?c(null==C?void 0:C.size):10,persistentStorageUnit:k?d(null==C?void 0:C.size):"Gi",persistentStorageParam:{name:T,type:k?null==C?void 0:null===(s=C.attributes)||void 0===s?void 0:s.class:"beta2",mount:k?null===(o=j.params)||void 0===o?void 0:null===(r=o.storage[T])||void 0===r?void 0:r.mount:"",readOnly:!!k&&(null===(x=j.params)||void 0===x?void 0:null===(u=x.storage[T])||void 0===u?void 0:u.readOnly)}},b.command={command:(null===(p=j.command)||void 0===p?void 0:p.length)>0?j.command.join(" "):"",arg:j.args?j.args[0]:""},b.env=(null===(h=j.env)||void 0===h?void 0:h.map(e=>({id:(0,l.x0)(),key:e.split("=")[0],value:e.split("=")[1]})))||[],b.expose=[],null===(v=j.expose)||void 0===v||v.forEach(e=>{var t,n,s,a,r,o,c,d,m,u,x,p,h,v;let g=e.to.find(e=>e.global),f={id:(0,l.x0)(),port:e.port,as:e.as||80,proto:"tcp"===e.proto?e.proto:"http",global:!!g,to:e.to.filter(e=>void 0===e.global).map(e=>({id:(0,l.x0)(),value:e.service})),accept:(null===(t=e.accept)||void 0===t?void 0:t.map(e=>({id:(0,l.x0)(),value:e})))||[],ipName:(null==g?void 0:g.ip)?g.ip:"",hasCustomHttpOptions:!!e.http_options,httpOptions:{maxBodySize:null!==(m=null===(n=e.http_options)||void 0===n?void 0:n.max_body_size)&&void 0!==m?m:i.gM.maxBodySize,readTimeout:null!==(u=null===(s=e.http_options)||void 0===s?void 0:s.read_timeout)&&void 0!==u?u:i.gM.readTimeout,sendTimeout:null!==(x=null===(a=e.http_options)||void 0===a?void 0:a.send_timeout)&&void 0!==x?x:i.gM.sendTimeout,nextCases:null!==(p=null===(r=e.http_options)||void 0===r?void 0:r.next_cases)&&void 0!==p?p:i.gM.nextCases,nextTries:null!==(h=null===(o=e.http_options)||void 0===o?void 0:o.next_tries)&&void 0!==h?h:i.gM.nextTries,nextTimeout:null!==(v=null===(c=e.http_options)||void 0===c?void 0:c.next_timeout)&&void 0!==v?v:i.gM.nextTimeout}};null===(d=b.expose)||void 0===d||d.push(f)});let S=t.deployment[e],O=Object.keys(S).sort()[0],W=t.profiles.placement[O];if(!W)throw new a.Bt("Unable to find placement: ".concat(O));let z=W.pricing[e],P=S[O];b.placement={name:O,pricing:{amount:z.amount,denom:z.denom},signedBy:{anyOf:W.signedBy&&(null===(g=W.signedBy)||void 0===g?void 0:g.anyOf)?W.signedBy.anyOf.map(e=>({id:(0,l.x0)(),value:e})):[],allOf:W.signedBy&&(null===(f=W.signedBy)||void 0===f?void 0:f.allOf)?W.signedBy.allOf.map(e=>({id:(0,l.x0)(),value:e})):[]},attributes:W.attributes?Object.keys(W.attributes).map(e=>{let t=W.attributes[e];return{id:(0,l.x0)(),key:e,value:t}}):[]},b.count=P.count,n.push(b)}),n}catch(e){throw console.log(e),e}},c=e=>{let t=e.match(/\d+/g);return t?parseFloat(t[0]):0},d=e=>{let t=e.match(/[a-zA-Z]+/g);return t?(0,r.fm)(t[0]):""},m=e=>{let t=[];for(let[n,s]of Object.entries(e))s?s.forEach(e=>{t.push({vendor:n,name:e.model,memory:e.ram||"",interface:e.interface||""})}):t.push({vendor:n,name:"",memory:"",interface:""});return t}},88540:function(e,t,n){function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function l(e){if(document.body.createTextRange){let t=document.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){let t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),null==t||t.removeAllRanges(),null==t||t.addRange(n)}else console.warn("Could not select text in node: Unsupported browser.")}n.d(t,{eO:function(){return l},fm:function(){return s},xu:function(){return a}});let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.length<t?e:"".concat(e.substring(0,t-3),"...")}},14822:function(e,t,n){n.d(t,{B:function(){return s},D:function(){return l}});let s=e=>{let t;return{start:()=>new Promise(n=>{if(-1===t)throw Error("Timer already aborted");t=setTimeout(n,e)}),abort:()=>{(-1!==t||void 0===t)&&(clearTimeout(t),t=-1)}}};async function l(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}}}]);