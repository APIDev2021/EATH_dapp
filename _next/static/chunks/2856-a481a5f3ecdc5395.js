"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2856],{42856:function(e,t,s){s.d(t,{B:function(){return ts}});var n=s(52322),l=s(2784),i=s(68901),a=s(82876),r=s(98951),o=s(40830),d=s(4610),c=s(50766),m=s(51328);let u={title:"Hello World",name:"Hello World",code:"hello-world",category:"General",description:"Simple next.js web application showing hello world.",githubUrl:"https://github.com/maxmaxlabs/hello-akash-world",valuesToChange:[],content:'# Welcome to the Aethernet! \uD83D\uDE80☁\n# This file is called a Stack Definition Laguage (SDL)\n# SDL is a human friendly data standard for declaring deployment attributes. \n# The SDL file is a "form" to request resources from the Network. \n# SDL is compatible with the YAML standard and similar to Docker Compose files.\n\n---\n# Indicates version of Aethernet configuration file. Currently only "2.0" is accepted.\nversion: "2.0"\n\n# The top-level services entry contains a map of workloads to be ran on the Aethernet deployment. Each key is a service name; values are a map containing the following keys:\n# https://akash.network/docs/getting-started/stack-definition-language/#services\nservices:\n  # The name of the service "web"\n  web:\n    # The docker container image with version. You must specify a version, the "latest" tag doesn\'t work.\n    image: Aethernetlytics/hello-akash-world:0.2.0\n    # You can map ports here https://akash.network/docs/getting-started/stack-definition-language/#servicesexpose\n    expose:\n      - port: 3000\n        as: 80\n        to:\n          - global: true\n\n# The profiles section contains named compute and placement profiles to be used in the deployment.\n# https://akash.network/docs/getting-started/stack-definition-language/#profiles\nprofiles:\n  # profiles.compute is map of named compute profiles. Each profile specifies compute resources to be leased for each service instance uses uses the profile.\n  # https://akash.network/docs/getting-started/stack-definition-language/#profilescompute\n  compute:\n    # The name of the service\n    web:\n      resources:\n        cpu:\n          units: 0.5\n        memory:\n          size: 512Mi\n        storage:\n          size: 512Mi\n\n# profiles.placement is map of named datacenter profiles. Each profile specifies required datacenter attributes and pricing configuration for each compute profile that will be used within the datacenter. It also specifies optional list of signatures of which tenants expects audit of datacenter attributes.\n# https://akash.network/docs/getting-started/stack-definition-language/#profilesplacement\n  placement:\n    dcloud:\n      pricing:\n        # The name of the service\n        web:\n          denom: uakt\n          amount: 10000\n\n# The deployment section defines how to deploy the services. It is a mapping of service name to deployment configuration.\n# https://akash.network/docs/getting-started/stack-definition-language/#deployment\ndeployment:\n  # The name of the service\n  web:\n    dcloud:\n      profile: web\n      count: 1\n'},h=[{title:"Empty",code:"empty",category:"General",description:"An empty template with some basic config to get started.",content:"# Paste your SDL here!"},u];var x=s(22761),p=s(22103),f=s(67810),g=s(45340),j=s(41412),v=s(86607),y=s(49931),w=s(74796),N=s(89870),k=s(93524),b=s(95666),S=s(98217),C=s(50338),D=s(66868),E=s(88054),T=s(48332),A=s(6813),L=s(19186),Z=s(21440),I=s(11662),O=s(61690),M=s(77617),z=s(90007),F=s(36200),R=s(5609),B=s(33389),_=s(30115),P=s(89882),W=s(87706),U=s(49158);let q=e=>{let{height:t}=e,[s,i]=(0,l.useState)(300),[a,r]=(0,l.useState)(!1),{data:o,refetch:d}=(0,W.r)(t,{disabled:!0,onSuccess:e=>{let t=new Date(e.block.header.time),s=new Date;i(Math.max(0,300-(0,P.Z)(s,t)+20)),r(!0)}});(0,l.useEffect)(()=>{d()},[]),(0,l.useEffect)(()=>{if(!s)return;let e=setInterval(()=>{i(s-1)},1e3);return()=>clearInterval(e)},[s,o]);let c=Math.floor(s/60),m=s%60;return a?(0,n.jsx)(f.Ct,{variant:0===s?"destructive":"outline",children:(0,n.jsxs)("span",{className:"inline-flex items-center",children:[0===s?(0,n.jsx)(n.Fragment,{children:"Time's up!"}):(0,n.jsxs)(n.Fragment,{children:["Time Remaining: ",c<10?"0"+c:c,":",m<10?"0"+m:m]}),(0,n.jsx)(f.WH,{title:(0,n.jsx)("div",{children:"Bids automatically close 5 minutes after the deployment is created if none are selected for a lease."}),children:(0,n.jsx)(N.Z,{className:(0,U.cn)("ml-2 text-xs",{"text-muted-foreground":0!==s,"text-white":0===s})})})]})}):null};var H=s(43681),Q=s(22021),Y=s(98649),G=s(17759),K=s(59107),V=s(29690),$=s(99913),X=s(5522),J=s(39097),ee=s.n(J),et=s(69687),es=s(62857),en=s(69793),el=s(29931),ei=s(68866),ea=s(77049),er=s(5829),eo=s(89875);let ed=e=>{var t;let{bid:s,selectedBid:i,handleBidSelected:a,disabled:o,provider:d,isSendingManifest:c}=e,{favoriteProviders:m,updateFavoriteProviders:u}=(0,r.D)(),h=m.some(e=>d.owner===e),p=(null==i?void 0:i.id)===s.id,{isLoading:g,refetch:j,error:v}=(0,T.UP)(null==d?void 0:d.hostUri,{enabled:!1,retry:!1}),y=s.resourcesOffer.flatMap(e=>(0,I.PR)(e.resources.gpu.attributes));return(0,l.useEffect)(()=>{d&&j()},[d,j]),(0,n.jsxs)(f.SC,{className:(0,U.cn)("bid-list-row [&>td]:px-2 [&>td]:py-1",{"cursor-pointer hover:bg-muted-foreground/10":"open"===s.state,"border bg-green-100 dark:bg-green-900":p}),onClick:e=>{"open"===s.state&&!o&&!c&&(0,es.r)(e.target,"bid-list-row")&&a(s)},children:[(0,n.jsx)(f.pj,{align:"center",children:(0,n.jsxs)("div",{className:"flex items-center justify-center whitespace-nowrap",children:[(0,n.jsx)(eo.g,{denom:s.price.denom,perBlockValue:(0,en.zL)(s.price.amount,10),className:"text-xl"}),(0,n.jsx)(er.N,{denom:s.price.denom,value:s.price.amount})]})}),(0,n.jsx)(f.pj,{align:"center",children:d.ipRegion&&d.ipCountry?(0,n.jsx)(f.WH,{title:(0,n.jsxs)(n.Fragment,{children:[d.ipRegion,", ",d.ipCountry]}),children:(0,n.jsxs)("div",{children:[d.ipRegionCode,", ",d.ipCountryCode]})}):(0,n.jsx)("div",{children:"-"})}),(0,n.jsx)(f.pj,{align:"center",className:"font-bold",children:d.uptime7d?(0,n.jsx)(ei.m,{value:d.uptime7d}):(0,n.jsx)("div",{children:"-"})}),(0,n.jsx)(f.pj,{align:"left",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(ea._,{isFavorite:h,onClick:e=>{e.preventDefault(),e.stopPropagation(),u(h?m.filter(e=>e!==d.owner):m.concat([d.owner]))}}),(0,n.jsx)("div",{className:"ml-2",children:d.name?(0,n.jsx)(ee(),{href:x.iO.providerDetail(d.owner),onClick:e=>e.stopPropagation(),children:(null===(t=d.name)||void 0===t?void 0:t.length)>20?(0,n.jsx)(f.WH,{title:d.name,children:(0,n.jsx)("span",{children:(0,et.j)(d.name,4,13)})}):d.name}):(0,n.jsx)("div",{children:(0,n.jsx)(f.WH,{title:d.hostUri,children:(0,n.jsx)("div",{children:(0,et.j)(d.hostUri,4,13)})})})})]})}),y.length>0&&(0,n.jsx)(f.pj,{align:"center",children:(0,n.jsx)("div",{className:"space-x",children:y.map(e=>(0,n.jsxs)(f.Ct,{className:(0,U.cn)("px-1 py-0 text-xs"),variant:"default",children:[e.vendor,"-",e.model]},"".concat(e.vendor,"-").concat(e.model)))})}),(0,n.jsx)(f.pj,{align:"center",children:d.isAudited?(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:"Yes"}),(0,n.jsx)("div",{className:"ml-1",children:(0,n.jsx)(el.q,{provider:d})})]}):(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:"No"}),(0,n.jsx)(f.WH,{title:(0,n.jsx)(n.Fragment,{children:"This provider is not audited, which may result in a lesser quality experience."}),children:(0,n.jsx)($.Z,{className:"ml-2 text-sm text-orange-600"})})]})}),(0,n.jsx)(f.pj,{align:"center",children:(0,n.jsxs)("div",{className:"flex h-[38px] items-center justify-center",children:[g&&(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsx)(f.$j,{size:"small"})}),!g&&!!v&&!c&&(0,n.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,n.jsx)(X.Z,{className:"text-xs text-primary"}),(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:"OFFLINE"})]}),!g&&!v&&!c&&(0,n.jsx)(n.Fragment,{children:"open"!==s.state||o?(0,n.jsx)("div",{className:"flex items-center justify-center",children:(0,n.jsx)(f.Ct,{color:"active"===s.state?"success":"error",className:"h-4 text-xs",children:s.state})}):(0,n.jsx)(f.Ee,{children:(0,n.jsx)(f.mJ,{value:s.id,id:s.id,checked:p,onChange:()=>a(s),disabled:"open"!==s.state||o})})}),c&&p&&(0,n.jsx)("div",{className:"flex items-center justify-center whitespace-nowrap",children:(0,n.jsx)(f.Ct,{variant:"success",children:"Deploying! \uD83D\uDE80"})})]})})]},s.id)},ec=e=>{let{bids:t,gseq:s,selectedBid:i,handleBidSelected:a,disabled:r,providers:o,filteredBids:d,deploymentDetail:c,isFilteringFavorites:u,isFilteringAudited:h,groupIndex:x,totalBids:p,isSendingManifest:g}=e,[j,v]=(0,l.useState)(null),y=t.filter(e=>d.includes(e.id)),{selectedNetworkId:w}=(0,Q.r)();return(0,l.useEffect)(()=>{let e=null==c?void 0:c.groups.find(e=>e.group_id.gseq===s);e&&v({cpuAmount:(0,Y.Ip)(e,e=>parseInt(e.cpu.units.val)/1e3),gpuAmount:(0,Y.Ip)(e,e=>{var t,s;return parseInt((null===(s=e.gpu)||void 0===s?void 0:null===(t=s.units)||void 0===t?void 0:t.val)||0)}),memoryAmount:(0,Y.Ip)(e,e=>parseInt(e.memory.quantity.val)),storageAmount:(0,Y.Ip)(e,e=>(0,Y.mt)(e))})},[c,s]),(0,n.jsxs)(G.h,{className:"mb-4 rounded-none",contentClassName:"p-0",children:[(0,n.jsxs)("div",{className:"sticky top-0 z-[100] -mt-1 flex items-center justify-between border-b border-t bg-popover px-4 py-2 leading-8",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("h6",{className:"text-xs",children:(0,n.jsx)(K.F,{label:"GSEQ:",value:s})}),j&&(0,n.jsx)("div",{className:"ml-4",children:(0,n.jsx)(V.T,{cpuAmount:j.cpuAmount,memoryAmount:j.memoryAmount,storageAmount:j.storageAmount,gpuAmount:j.gpuAmount,color:"secondary",size:"small"})})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[!!i&&(0,n.jsx)(H.Z,{className:"text-primary"}),(0,n.jsxs)("div",{className:"ml-4",children:[x+1," of ",p]})]})]}),(0,n.jsxs)(f.iA,{children:[(0,n.jsx)(f.xD,{children:(0,n.jsxs)(f.SC,{children:[(0,n.jsx)(f.pj,{width:"10%",align:"center",children:"Price"}),(0,n.jsx)(f.pj,{width:"10%",align:"center",children:"Region"}),(0,n.jsx)(f.pj,{width:"10%",align:"center",children:"Uptime (7d)"}),(0,n.jsx)(f.pj,{width:"10%",align:"center",children:"Provider"}),((null==c?void 0:c.gpuAmount)||0)>0&&(0,n.jsx)(f.pj,{width:"10%",align:"center",children:"GPU"}),(0,n.jsx)(f.pj,{width:"10%",align:"center",children:"Audited"}),(0,n.jsx)(f.pj,{width:"10%",align:"center",children:(0,n.jsx)("strong",{children:"Select"})})]})}),(0,n.jsx)(f.RM,{children:y.map(e=>{let t=o&&o.find(t=>t.owner===e.provider);return((null==t?void 0:t.isValidVersion)&&(!g||(null==i?void 0:i.id)===e.id)||w!==m.GI)&&t?(0,n.jsx)(ed,{bid:e,provider:t,handleBidSelected:a,disabled:r,selectedBid:i,isSendingManifest:g},e.id):null})})]}),u&&0===y.length&&(0,n.jsx)("div",{className:"px-4 py-2",children:(0,n.jsx)(f.bZ,{children:(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:"There are no favorite providers for this group..."})})}),h&&0===y.length&&(0,n.jsx)("div",{className:"px-4 py-2",children:(0,n.jsx)(f.bZ,{children:(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:'There are no audited providers for this group... Try unchecking the "Audited" flag or clearing the search.'})})})]})},em=Math.floor(47.142857142857146),eu=Math.round(8.571428571428571),eh=e=>{let{dseq:t}=e,[s,i]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),[c,u]=(0,l.useState)(!1),[h,p]=(0,l.useState)(!1),[P,W]=(0,l.useState)({}),[U,H]=(0,l.useState)([]),[Q,Y]=(0,l.useState)(""),{address:G,signAndBroadcastTx:K}=(0,C.O)(),{localCert:V}=(0,M.g)(),$=(0,a.useRouter)(),[X,J]=(0,l.useState)(0),{data:ee}=(0,T.wi)(),et=X>em,{favoriteProviders:es}=(0,r.D)(),{data:en,isLoading:el}=(0,D.i)(G,t,{initialData:[],refetchInterval:7e3,onSuccess:()=>{J(e=>++e)},enabled:!et&&!s}),{data:ei,refetch:ea}=(0,E.Rp)(G,t,{refetchOnMount:!1,enabled:!1}),er=(null==en?void 0:en.sort((e,t)=>parseFloat(e.price.amount)-parseFloat(t.price.amount)).reduce((e,t)=>(e[t.gseq]=[...e[t.gseq]||[],t],e),{}))||{},eo=Object.keys(er).map(e=>parseInt(e)),ed=((null==en?void 0:en.length)||0)>0&&(null==en?void 0:en.every(e=>"closed"===e.state)),{enqueueSnackbar:eh,closeSnackbar:ex}=(0,S.Ds)(),ep=(0,C.O)();(0,l.useEffect)(()=>{ea()},[]),(0,l.useEffect)(()=>{if((Q||o||c)&&ee){let e=[...en||[]];Q&&(e=e.filter(e=>{let t=null==ee?void 0:ee.find(t=>t.owner===e.provider);return(null==t?void 0:t.attributes.some(e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.toLowerCase().includes(Q.toLowerCase())}))||(null==t?void 0:t.hostUri.includes(Q))})),o&&(e=e.filter(e=>es.some(t=>t===e.provider))),c&&(e=e.filter(e=>!!ee.filter(e=>e.isAudited).find(t=>t.owner===e.provider))),H(e.map(e=>e.id))}else H((null==en?void 0:en.map(e=>e.id))||[])},[Q,en,ee,o,c,es]);let ef=e=>{W({...P,[e.gseq]:e})};async function eg(e,s){try{return await (0,I.Ef)(e,s,t,V)}catch(e){throw eh((0,n.jsx)(B.Q,{err:e}),{variant:"error",autoHideDuration:null}),e}}async function ej(){p(!0);let e=Object.keys(P);try{let t=e.map(e=>P[e]).map(e=>O.W.getCreateLeaseMsg(e));if(!await K([...t]))throw Error("Rejected transaction");(0,b.B)(A._.CREATE_LEASE,{category:"deployments",label:"Create lease"})}catch(e){p(!1);return}i(!0);let s=(0,Z.JL)(t);if(s&&s.manifest){let t=!ep.isManaged&&eh((0,n.jsx)(f.A9,{title:"Deploying! \uD83D\uDE80",subTitle:"Please wait a few seconds...",showLoading:!0}),{variant:"info",autoHideDuration:null});try{let t=k.ZP.load(s.manifest),n=L.v6.getManifest(t,!0);for(let t=0;t<e.length;t++){let s=P[e[t]],l=null==ee?void 0:ee.find(e=>e.owner===s.provider);await eg(l,n)}}catch(e){console.error(e)}t&&ex(t)}(0,b.B)(A._.SEND_MANIFEST,{category:"deployments",label:"Send manifest after creating lease"}),$.replace(x.iO.deploymentDetails(t,"EVENTS","events"))}async function ev(){let e=O.W.getCloseDeploymentMsg(G,t);await K([e])&&$.replace(x.iO.deploymentList())}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.T,{title:"Create Deployment - Create Lease",url:"".concat(x.OT).concat(x.iO.newDeployment({step:m.Qr.createLeases}))}),(0,n.jsxs)("div",{className:"mt-4",children:[!el&&((null==en?void 0:en.length)||0)>0&&!ed&&(0,n.jsxs)("div",{className:"flex flex-col items-end justify-between py-2 md:flex-row",children:[(0,n.jsxs)("div",{className:"flex w-full flex-grow items-end md:w-auto",children:[(0,n.jsx)("div",{className:"flex-grow",children:(0,n.jsx)(f.II,{placeholder:"Search provider...",disabled:(null==en?void 0:en.length)===0||s,value:Q,onChange:e=>{Y(e.target.value)},type:"text",className:"w-full",label:"Search provider",endIcon:Q&&(0,n.jsx)(f.zx,{size:"icon",variant:"ghost",onClick:()=>Y(""),className:"text-muted-foreground hover:bg-transparent hover:text-current",children:(0,n.jsx)(g.Z,{})})})}),(0,n.jsxs)(f.h_,{modal:!1,children:[(0,n.jsx)(f.$F,{asChild:!0,children:(0,n.jsx)("div",{className:"mx-2",children:(0,n.jsx)(f.zx,{size:"icon",variant:"ghost",children:(0,n.jsx)(j.Z,{className:"text-lg"})})})}),(0,n.jsx)(f.AW,{children:(0,n.jsx)(z.H,{onClick:()=>ev(),icon:(0,n.jsx)(v.Z,{}),children:"Close Deployment"})})]})]}),(0,n.jsx)("div",{className:"flex w-full items-center py-2 md:w-auto md:py-0",children:(0,n.jsx)(f.zx,{variant:"default",color:"secondary",onClick:ej,className:"w-full whitespace-nowrap md:w-auto",disabled:eo.some(e=>!P[e])||s||h,children:h?(0,n.jsx)(f.$j,{size:"small"}):(0,n.jsxs)(n.Fragment,{children:["Accept Bid",eo.length>1?"s":"",(0,n.jsx)("span",{className:"ml-2 flex items-center",children:(0,n.jsx)(y.Z,{className:"text-xs"})})]})})})]}),!el&&(ed||(null==en?void 0:en.length)===0)&&(0,n.jsx)(f.zx,{variant:"default",color:"secondary",onClick:ev,size:"sm",children:"Close Deployment"}),X>eu&&!et&&0===((null==en?void 0:en.length)||0)&&(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsx)(f.bZ,{variant:"warning",children:"There should be bids by now... You can wait longer in case a bid shows up or close the deployment and try again with a different configuration."})}),(el||0===((null==en?void 0:en.length)||0))&&!et&&!s&&(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center pt-4 text-center",children:[(0,n.jsx)(f.$j,{size:"large"}),(0,n.jsx)("div",{className:"pt-4",children:"Waiting for bids..."})]}),et&&0===((null==en?void 0:en.length)||0)&&(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsx)(f.bZ,{variant:"warning",children:"There's no bid for the current deployment. You can close the deployment and try again with a different configuration."})}),en&&en.length>0&&(0,n.jsxs)("div",{className:"my-1 flex flex-col items-center justify-between md:flex-row",children:[(0,n.jsxs)("div",{className:"flex w-full items-center md:w-auto",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(f.XZ,{checked:o,onCheckedChange:e=>d(e),id:"provider-favorites"}),(0,n.jsx)("label",{htmlFor:"provider-favorites",className:"cursor-pointer text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Favorites"})]}),(0,n.jsxs)("div",{className:"ml-4 flex items-center space-x-2",children:[(0,n.jsx)(f.XZ,{checked:c,onCheckedChange:e=>u(e),id:"provider-audited"}),(0,n.jsxs)("label",{htmlFor:"provider-audited",className:"inline-flex cursor-pointer items-center text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["Audited",(0,n.jsx)(w.Z,{className:"ml-2 text-sm text-green-600"})]})]}),!el&&ed&&(0,n.jsx)("div",{className:"ml-4 flex items-center",children:(0,n.jsx)(f.WH,{title:(0,n.jsx)("div",{children:"All bids for this deployment are closed. This can happen if no bids are accepted for more than 5 minutes after the deployment creation. You can close this deployment and create a new one."}),children:(0,n.jsx)(N.Z,{className:"text-xs text-red-600"})})})]}),!s&&(0,n.jsx)("div",{className:"mt-2 flex items-center self-start sm:self-center md:ml-4 md:mt-0",children:(0,n.jsx)(q,{height:en&&(null==en?void 0:en.length)>0?en[0].dseq:null})}),!et&&!s&&(0,n.jsxs)("div",{className:"flex items-center self-start text-xs leading-4 sm:self-center",children:[(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Waiting for more bids..."}),(0,n.jsx)("div",{className:"ml-2",children:(0,n.jsx)(f.$j,{size:"small"})})]})]})]}),(0,n.jsx)(R.u,{isLoading:s}),eo.length>0&&(0,n.jsx)(_.Z,{stickToBottom:!0,style:{overflow:"auto",paddingBottom:"2rem"},children:eo.map((e,t)=>(0,n.jsx)(ec,{gseq:e,bids:er[e],handleBidSelected:ef,selectedBid:P[e],disabled:s,providers:ee,filteredBids:U,deploymentDetail:ei,isFilteringFavorites:o,isFilteringAudited:c,groupIndex:t,totalBids:eo.length,isSendingManifest:s},e))})]})};var ex=s(86478),ep=s(84001),ef=s(27149),eg=s(40062),ej=s(26383),ev=s(58639),ey=s(40284);let ew=()=>{let e=(0,C.O)(),t=(0,ey.NV)();return e.isManaged&&"usdc"===eg.envConfig.NEXT_PUBLIC_MANAGED_WALLET_DENOM?t:"uakt"};var eN=s(59404),ek=s(3479),eb=s(14822),eS=s(64146),eC=s(5543),eD=s(74628),eE=s(78780),eT=s(70738),eA=s(63955),eL=s(88883),eZ=s(9850),eI=s.n(eZ),eO=s(37164),eM=s(67899),ez=s(8046),eF=s(52904),eR=s(85636),eB=s(24006),e_=s(85395),eP=s.n(e_),eW=s(61726),eU=s.n(eW);class eq extends Error{}let eH=(e,t)=>{let s=[eQ,eG];(null==t?void 0:t.withSSH)&&(s.push(eY),s.push(eK));let n=eP()(s);return e.map(e=>n(e))};function eQ(e){let{sshPubKey:t}=e;if(!t)return e;let s=eI()(e);s.env=s.env||[];let n=s.env.find(e=>"SSH_PUBKEY"===e.key);return n?n.value=t:s.env.push({id:"SSH_PUBKEY",key:"SSH_PUBKEY",value:t,isSecret:!1}),s}function eY(e){if(e.expose.some(e=>eU()(e,eF.TU)))return e;if(e.expose.some(e=>22===e.port))throw new eq("Expose outer port 22 is reserved");if(e.expose.some(e=>22===e.as))throw new eq("Expose inner port 22 is reserved");let t=eI()(e);return t.expose.push({id:"ssh",...eF.TU}),t}function eG(e){if(1===e.count)return e;let t=eI()(e);return t.count=1,t}function eK(e){let t=eF.EG[e.image];if(!t)return e;let s=eI()(e);return s.image=t,s}var eV=s(86499);let e$=l.forwardRef((e,t)=>{let{sdlString:s,setEditedManifest:i}=e,[a,r]=(0,l.useState)(null),o=(0,l.useRef)(null),[d,c]=(0,l.useState)(!1),{hasComponent:m,imageList:u}=(0,ev.iS)(),h=(0,eA.cI)({defaultValues:{services:[eI()(m("ssh")?eF.lc:eF.ss)],imageList:u,hasSSHKey:m("ssh")},resolver:(0,eL.F)(ez.Yf)}),{control:x,trigger:p,watch:g,setValue:j}=h,{fields:v,remove:y,append:w}=(0,eA.Dq)({control:x,name:"services",keyName:"id"}),{services:N=[]}=g(),{data:k}=(0,eM.P)(),[b,S]=(0,l.useState)([]),D=(0,C.O)(),E=ew();(0,eN.A)(D.isManaged,()=>{N.forEach((e,t)=>{let{denom:s}=e.placement.pricing;s!==E&&j("services.".concat(t,".placement.pricing.denom"),E)})},[N,s]),l.useImperativeHandle(t,()=>({getSdl:T,validate:async()=>await p()})),(0,l.useEffect)(()=>{let{unsubscribe:e}=g(e=>{i((0,eR.C)(e.services))});try{if(s){let e=A(s);j("services",e)}}catch(e){r("Error importing SDL")}return c(!0),()=>{e()}},[g]);let T=()=>{try{return(0,eR.C)(eH(N,{withSSH:m("ssh")}))}catch(e){e instanceof eq&&r(e.message)}},A=e=>{try{if(!e)return[];let t=(0,eB.Z)(e);return r(null),t}catch(e){"YAMLException"===e.name||"CustomValidationError"===e.name?r(e.message):"TemplateValidation"===e.name?r(e.message):(r("Error while parsing SDL file"),console.error(e))}},L=e=>{y(e)};return(0,n.jsx)("div",{className:"pb-8",children:d?(0,n.jsx)(f.l0,{...h,children:(0,n.jsxs)("form",{ref:o,autoComplete:"off",children:[N&&v.map((e,t)=>(0,n.jsx)(eV.$,{serviceIndex:t,gpuModels:k,setValue:j,_services:N,control:x,trigger:p,onRemoveService:L,serviceCollapsed:b,setServiceCollapsed:S,hasSecretOption:!1},e.id)),a&&(0,n.jsx)(f.bZ,{variant:"destructive",className:"mt-4",children:a}),!m("ssh")&&(0,n.jsx)("div",{className:"flex items-center justify-end pt-4",children:(0,n.jsx)("div",{children:(0,n.jsx)(f.zx,{variant:"default",size:"sm",type:"button",onClick:()=>{w({...eF.ss,id:(0,eO.x0)(),title:"service-".concat(v.length+1)})},children:"Add Service"})})})]})}):(0,n.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,n.jsx)(f.$j,{size:"large"})})})}),eX=e=>{let{editedManifest:t,setEditedManifest:s,onTemplateSelected:r,selectedTemplate:o}=e,[d,u]=(0,l.useState)(null),[h,p]=(0,l.useState)(""),[g,j]=(0,l.useState)(!1),[v,w]=(0,l.useState)(!1),[k,S]=(0,l.useState)(!1),[D,E]=(0,i.KO)(c.Z.selectedSdlEditMode),[T,z]=(0,l.useState)("uakt"),{settings:R}=(0,Q.r)(),{address:B,signAndBroadcastTx:P,isManaged:W}=(0,C.O)(),q=(0,a.useRouter)(),{loadValidCertificates:H,localCert:Y,isLocalCertMatching:G,loadLocalCert:K,setSelectedCertificate:V}=(0,M.g)(),[,$]=(0,i.KO)(c.Z.deploySdl),X=(0,ep.Z)(),J=(0,ef.Z)(X.breakpoints.down("md")),ee=(0,l.useRef)(null),{minDeposit:et}=(0,ej.f)(),{hasComponent:es}=(0,ev.iS)(),en=(0,a.useSearchParams)().get("templateId"),{data:el}=(0,ek.x)(),ei=el||m.Yq,ea=(0,l.useRef)(null),er=(0,C.O)(),eo=ew();(0,eN.A)(er.isManaged&&"uakt"===T,()=>{z(eo)}),(0,eN.A)(er.isManaged&&"uakt"===T,()=>{s(e=>e.replace(/uakt/g,eo))},[t]),(0,eN.A)(es("ssh"),()=>{E("builder")});let ed=()=>{ea.current&&(ea.current.value="",ea.current.click())};async function ec(e){s(e)}async function em(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ei,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{if(!e)return null;let l=await L.v6.NewDeploymentData(R.apiEndpoint,e,t,B,s,n);return(0,I.$l)(l,o),z(l.deposit.denom),u(null),l}catch(e){"YAMLException"===e.name||"CustomValidationError"===e.name?u(e.message):"TemplateValidation"===e.name?u(e.message):(u("Error while parsing SDL file"),console.error(e))}}(0,l.useEffect)(()=>{(null==o?void 0:o.name)&&p(o.name)},[]),(0,l.useEffect)(()=>{let e=(0,eb.B)(500);return e.start().then(()=>{t&&em(t,"TEST_DSEQ_VALIDATION")}),()=>{e&&e.abort()}},[t]);let eu=async()=>{if("builder"===D){var e;if(!await (null===(e=ee.current)||void 0===e?void 0:e.validate()))return}W?await ey(ei,eg.envConfig.NEXT_PUBLIC_MASTER_WALLET_ADDRESS):S(!0)},eh=async(e,t)=>{w(!1),await ey(e,t)};async function ey(e,s){var n,l;j(!0);let i="yaml"===D?t:null===(n=ee.current)||void 0===n?void 0:n.getSdl();if(!i){j(!1);return}let a=await em(i,null,e,s),r=(await H()).find(e=>e.parsed===(null==Y?void 0:Y.certPem)),o=(null==r?void 0:null===(l=r.certificate)||void 0===l?void 0:l.state)==="valid";if(a)try{let e,t;let s=[],n=o&&!!Y&&G;if(!n){let{cert:n,publicKey:l,privateKey:i}=ex.mJ.generatePEM(B);e=n,t=i,s.push(O.W.getCreateCertificateMsg(B,n,l))}if(s.push(O.W.getCreateDeploymentMsg(a)),await P(s)){if(!n){(0,eS.K8)(B,s=>({...s,cert:e,certKey:t}));let s=await H();K();let n=s.find(t=>t.parsed===e);V(n)}$(null),(0,Z.Li)(a.deploymentId.dseq,i,a.version,B,h),q.replace(x.iO.newDeployment({step:m.Qr.createLeases,dseq:a.deploymentId.dseq})),(0,b.B)(A._.CREATE_DEPLOYMENT,{category:"deployments",label:"Create deployment in wizard"})}else j(!1)}catch(e){throw j(!1),e}}let eA=e=>{if(e!==D){if("yaml"===e)t&&s(t);else{var n;let e=null===(n=ee.current)||void 0===n?void 0:n.getSdl();e&&s(e)}E(e)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.T,{title:"Create Deployment - Manifest Edit",url:"".concat(x.OT).concat(x.iO.newDeployment({step:m.Qr.editDeployment}))}),(0,n.jsx)("div",{className:"mb-2 pt-4",children:(0,n.jsxs)("div",{className:"mb-2 flex flex-col items-end justify-between md:flex-row",children:[(0,n.jsx)("div",{className:"w-full flex-grow",children:(0,n.jsx)(f.II,{value:h,onChange:e=>p(e.target.value),label:"Name your deployment (optional)"})}),(0,n.jsxs)("div",{className:"flex w-full min-w-0 flex-shrink-0 items-center pt-2 md:w-auto md:pt-0",children:[(0,n.jsx)(f.WH,{title:(0,n.jsxs)("p",{children:["You may use the sample deployment file as-is or modify it for your own needs as described in the"," ",(0,n.jsx)(eE.e,{onClick:e=>(0,x.RL)(e,"https://akash.network/docs/getting-started/stack-definition-language/"),children:"SDL (Stack Definition Language)"})," ","documentation. A typical modification would be to reference your own image instead of the demo app image."]}),children:(0,n.jsx)(N.Z,{className:"mr-4 text-sm text-muted-foreground md:ml-4"})}),(0,n.jsx)("div",{className:"flex-grow",children:(0,n.jsx)(f.zx,{variant:"default",disabled:g||!!d||!t,onClick:()=>eu(),className:"w-full whitespace-nowrap sm:w-auto","data-testid":"create-deployment-btn",children:g?(0,n.jsx)(f.$j,{size:"small"}):(0,n.jsxs)(n.Fragment,{children:["Create Deployment"," ",(0,n.jsx)("span",{className:"ml-2 flex items-center",children:(0,n.jsx)(y.Z,{fontSize:"small"})})]})})})]})]})}),(0,n.jsxs)("div",{className:"mb-2 flex gap-2",children:[es("yml-editor")&&(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(f.zx,{variant:"builder"===D?"default":"outline",onClick:()=>eA("builder"),size:"sm",className:(0,U.cn)("flex-grow sm:flex-grow-0",{"rounded-e-none":es("yml-editor")}),disabled:!!d&&"yaml"===D,children:"Builder"}),(0,n.jsx)(f.zx,{variant:"yaml"===D?"default":"outline",color:"yaml"===D?"secondary":"primary",onClick:()=>eA("yaml"),size:"sm",className:"flex-grow rounded-s-none sm:flex-grow-0",children:"YAML"})]}),es("yml-uploader")&&!en&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"file",ref:ea,onChange:e=>{var t;let n=null!==(t=e.target.files)&&void 0!==t?t:[];if(!(n.length>0))return;let l=n[0],i=new FileReader;i.onload=e=>{var t,n;r({title:"From file",code:"from-file",category:"General",description:"Custom uploaded file",content:null===(t=e.target)||void 0===t?void 0:t.result}),s(null===(n=e.target)||void 0===n?void 0:n.result),E("yaml")},i.readAsText(l)},style:{display:"none"},accept:".yml,.yaml,.txt"}),(0,n.jsx)(f.zx,{variant:"outline",color:"secondary",onClick:()=>ed(),size:"sm",className:"flex-grow hover:bg-primary hover:text-white sm:flex-grow-0",children:"Upload SDL"})]})]}),d&&(0,n.jsx)(f.bZ,{variant:"warning",children:d}),es("yml-editor")&&"yaml"===D&&(0,n.jsx)(_.Z,{stickToBottom:!0,className:(0,U.cn)("overflow-hidden",{"-mx-4":J}),children:(0,n.jsx)(eD.y,{value:t||"",onChange:ec})}),(es("ssh")||"builder"===D)&&(0,n.jsx)(e$,{sdlString:t,ref:ee,setEditedManifest:s}),v&&(0,n.jsx)(eC.y,{handleCancel:()=>w(!1),onDeploymentDeposit:eh,denom:T,infoText:(0,n.jsxs)(f.bZ,{className:"mb-4 text-xs",variant:"default",children:["To create a deployment, you need to have at least ",(0,n.jsxs)("b",{children:[et.akt," AKT"]})," or ",(0,n.jsxs)("b",{children:[et.usdc," USDC"]})," in an escrow account."," ",(0,n.jsx)(eE.e,{onClick:e=>(0,x.RL)(e,"https://akash.network/docs/other-resources/payments/"),children:(0,n.jsx)("strong",{children:"Learn more."})})]})}),k&&(0,n.jsx)(eT.P,{onClose:()=>S(!1),onContinue:()=>{S(!1),W?ey(ei,eg.envConfig.NEXT_PUBLIC_MASTER_WALLET_ADDRESS):w(!0)}})]})},eJ=[{id:0,name:"Choose Template"},{id:1,name:"Create Deployment"},{id:2,name:"Choose providers"}],e0=e=>{let{activeStep:t}=e,s=(0,a.useRouter)();return(0,n.jsx)("nav",{"aria-label":"Progress",className:"w-full",children:(0,n.jsx)("ol",{role:"list",className:"divide-y divide-muted-foreground/20 border border-muted-foreground/20 md:flex md:divide-y-0",children:eJ.map((e,l)=>(0,n.jsxs)("li",{className:"relative md:flex md:flex-1",children:[e.id<t?(0,n.jsx)("a",{href:"#",className:(0,U.cn)("group flex w-full items-center",{"pointer-events-auto":0!==e.id}),onClick:t=>{t.preventDefault(),0===e.id&&s.replace(x.iO.newDeployment({step:m.Qr.chooseTemplate}))},children:(0,n.jsxs)("span",{className:"flex items-center px-6 py-4 text-sm font-medium",children:[(0,n.jsx)("span",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full bg-primary group-hover:bg-primary/80",children:(0,n.jsx)(H.Z,{className:"h-6 w-6 text-white","aria-hidden":"true"})}),(0,n.jsx)("span",{className:"ml-4 text-sm font-medium text-neutral-900 dark:text-neutral-500",children:e.name})]})}):e.id===t?(0,n.jsxs)("div",{className:"flex items-center px-6 py-4 text-sm font-medium","aria-current":"step",children:[(0,n.jsx)("span",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full border-2 border-primary",children:(0,n.jsx)("span",{className:"font-bold text-primary",children:e.id+1})}),(0,n.jsx)("span",{className:"ml-4 text-sm font-bold text-primary",children:e.name})]}):(0,n.jsx)("div",{className:"group flex items-center",children:(0,n.jsxs)("span",{className:"flex items-center px-6 py-4 text-sm font-medium",children:[(0,n.jsx)("span",{className:"flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-full border-2 border-muted-foreground/20 group-hover:border-muted-foreground/30 dark:group-hover:border-muted-foreground/20",children:(0,n.jsx)("span",{className:"text-muted-foreground group-hover:text-neutral-600 dark:group-hover:text-muted-foreground/70",children:e.id+1})}),(0,n.jsx)("span",{className:"ml-4 text-sm font-medium text-muted-foreground group-hover:text-neutral-600 dark:group-hover:text-muted-foreground/70",children:e.name})]})}),l!==eJ.length-1?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"absolute right-0 top-0 hidden h-full w-5 md:block","aria-hidden":"true",children:(0,n.jsx)("svg",{className:"h-full w-full text-neutral-300 dark:text-neutral-700",viewBox:"0 0 22 80",fill:"none",preserveAspectRatio:"none",children:(0,n.jsx)("path",{d:"M0 -2L20 40L0 82",vectorEffect:"non-scaling-stroke",stroke:"currentcolor",strokeLinejoin:"round"})})})}):null]},e.name))})})};var e1=s(36369),e2=s(96538),e8=s(33320),e4=s(65865),e6=s(52423),e3=s(30367),e5=s(61029),e7=s(29378);let e9=e=>{let{title:t,description:s,icon:l,imageUrl:i,onClick:a,testId:r}=e;return(0,n.jsxs)(f.Zb,{className:"min-h-[100px] cursor-pointer hover:bg-secondary/60 dark:hover:bg-secondary/30",onClick:a,"data-testid":r,children:[(0,n.jsx)(f.Ol,{children:(0,n.jsxs)("div",{className:"flex items-center",children:[l?(0,n.jsx)(f.qE,{className:"h-10 w-10",children:(0,n.jsx)(f.Q5,{children:l})}):(0,n.jsxs)(f.qE,{className:"h-10 w-10",children:[(0,n.jsx)(f.F$,{src:i,alt:t}),(0,n.jsx)(f.Q5,{children:(0,n.jsx)(e7.Z,{})})]}),(0,n.jsx)("div",{className:"ml-4 font-bold tracking-tight",children:t})]})}),(0,n.jsx)(f.aY,{className:"pb-4 pt-0",children:(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:s})})]})},te=["akash-network-awesome-akash-FLock-training-node","akash-network-awesome-akash-tensorflow-jupyter-mnist","akash-network-awesome-akash-comfyui","akash-network-awesome-akash-Falcon-7B","akash-network-awesome-akash-stable-diffusion-ui","akash-network-awesome-akash-bert","akash-network-awesome-akash-open-gpt","akash-network-awesome-akash-grok","akash-network-awesome-akash-FastChat"],tt=()=>{let{templates:e}=(0,d.z)(),t=(0,a.useRouter)(),[s,r]=(0,l.useState)([]),[,o]=(0,i.KO)(c.Z.selectedSdlEditMode),h=(0,e3.Q)();function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"new-deployment";o("builder"),t.push(x.iO.newDeployment({step:m.Qr.editDeployment,page:e}))}return(0,l.useEffect)(()=>{e&&r(te.map(t=>e.find(e=>t===e.id)).filter(e=>!!e))},[e]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.T,{title:"Create Deployment - Template List",url:"".concat(x.OT).concat(x.iO.newDeployment({step:m.Qr.chooseTemplate}))}),(0,n.jsxs)("div",{className:"mb-8 mt-8 flex items-center",children:[(0,n.jsx)(f.zx,{"aria-label":"back",onClick:function(){h?t.back():t.push(x.iO.deploymentList())},size:"icon",variant:"ghost",children:(0,n.jsx)(e6.Z,{})}),(0,n.jsx)("h1",{className:"ml-4 text-2xl",children:(0,n.jsx)("strong",{children:"What do you want to deploy?"})})]}),(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2 md:gap-4 lg:grid-cols-4",children:[(0,n.jsx)(e9,{title:u.title,description:u.description,icon:(0,n.jsx)(e1.Z,{className:"rotate-45"}),onClick:()=>t.push(x.iO.newDeployment({step:m.Qr.editDeployment,templateId:u.code}))}),(0,n.jsx)(e9,{title:"Rent GPUs",description:"Rent GPUs from the Aethernet providers to run your AI workloads.",icon:(0,n.jsx)(e2.Z,{}),onClick:()=>t.push(x.iO.rentGpus())}),(0,n.jsx)(e9,{title:"Build your template",description:"With our new SDL Builder, you can create your own SDL from scratch in a few clicks!",icon:(0,n.jsx)(e8.Z,{}),onClick:()=>p(),testId:"build-template-card"}),(0,n.jsx)(e9,{title:"Linux",description:"Choose from multiple linux distros. Deploy and SSH into it. Install and run what you want after.",icon:(0,n.jsx)(e4.Z,{}),onClick:()=>p("deploy-linux"),testId:"plain-linux-card"})]})}),(0,n.jsxs)("div",{className:"mb-4 flex items-center",children:[(0,n.jsx)("h5",{children:(0,n.jsx)("strong",{children:"Staff Picks"})}),(0,n.jsxs)(ee(),{href:x.iO.templates(),className:"ml-4 flex items-center",children:["Search marketplace",(0,n.jsx)(y.Z,{className:"ml-2 text-xs"})]})]}),(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsx)("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-2 md:gap-4 lg:grid-cols-4",children:s.map(e=>(0,n.jsx)(e5.G,{template:e,linkHref:x.iO.newDeployment({step:m.Qr.editDeployment,templateId:null==e?void 0:e.id})},e.id))})}),(0,n.jsx)("div",{className:"pb-8 text-center",children:(0,n.jsx)(ee(),{href:x.iO.templates(),className:(0,U.cn)((0,f.dc)({size:"lg",variant:"default"})),children:"See all categories"})})]})},ts=()=>{let{isLoading:e,templates:t}=(0,d.z)(),[s,u]=(0,l.useState)(null),[f,g]=(0,l.useState)(null),[j,v]=(0,l.useState)(null),y=(0,i.Dv)(c.Z.deploySdl),{getDeploymentData:w}=(0,r.D)(),{getTemplateById:N}=(0,d.z)(),k=(0,a.useRouter)(),b=(0,a.useSearchParams)(),S=null==b?void 0:b.get("dseq"),{toggleCmp:C,hasComponent:D}=(0,o.iS)();(0,l.useEffect)(()=>{if(!t)return;let e=E(),s=T();if(e)g(e),v(e.content);else if(s){var n,l;g(s),v(s.content),((null===(n=s.config)||void 0===n?void 0:n.ssh)||!(null===(l=s.config)||void 0===l?void 0:l.ssh)&&D("ssh"))&&C("ssh")}let i=null==b?void 0:b.get("step");u(function(e){switch(e){case m.Qr.editDeployment:return 1;case m.Qr.createLeases:return 2;case m.Qr.chooseTemplate:default:return 0}}(i)),(e||s)&&i!==m.Qr.editDeployment&&k.replace(x.iO.newDeployment({...b,step:m.Qr.editDeployment}))},[b,t]);let E=()=>{let e=null,t=null==b?void 0:b.get("redeploy");if(t){let s=w(t);s&&s.manifest&&(e={name:s.name,code:"empty",content:s.manifest})}return e},T=()=>{let e=null==b?void 0:b.get("templateId");if(e){let t=N(e);if(t)return{code:"empty",name:t.name,content:t.deploy,valuesToChange:t.valuesToChange||[],config:t.config};let s=h.find(t=>t.code===e);if(s)return s}return y||null};return(0,n.jsxs)(p.Z,{isLoading:e,isUsingSettings:!0,isUsingWallet:!0,containerClassName:"pb-0",children:[(0,n.jsx)("div",{className:"flex w-full items-center",children:null!==s&&(0,n.jsx)(e0,{activeStep:s})}),0===s&&(0,n.jsx)(tt,{}),1===s&&(0,n.jsx)(eX,{selectedTemplate:f,onTemplateSelected:g,editedManifest:j,setEditedManifest:v}),2===s&&(0,n.jsx)(eh,{dseq:S})]})}},68866:function(e,t,s){s.d(t,{m:function(){return a}});var n=s(52322),l=s(83112),i=s(49158);let a=e=>{let{value:t}=e,s=(0,l.Z)();return(0,n.jsx)("span",{className:(0,i.cn)({"text-green-600":t>.95,"text-orange-600":t<.95}),children:s.formatNumber(t,{style:"percent",maximumFractionDigits:2})})}},35541:function(e,t,s){s.d(t,{R:function(){return a}});var n=s(52322);s(2784);var l=s(57395),i=s(42660);let a=e=>{let{text:t}=e;return(0,n.jsxs)("div",{className:"mx-auto max-w-[400px] text-center",children:[(0,n.jsx)(i.D,{className:"mb-4 text-center !text-lg",subTitle:!0,children:t}),(0,n.jsx)(l.P,{})]})}},70738:function(e,t,s){s.d(t,{P:function(){return x}});var n=s(52322),l=s(2784),i=s(67810),a=s(76849),r=s(7885),o=s(26383),d=s(50338),c=s(69793),m=s(40051),u=s(35541),h=s(42660);let x=e=>{let{onClose:t,onContinue:s}=e,[x,p]=(0,l.useState)(!1),[f,g]=(0,l.useState)(null),{address:j,walletBalances:v,refreshBalances:y,isManaged:w}=(0,d.O)(),{minDeposit:N}=(0,o.f)();return(0,l.useEffect)(()=>{async function e(){p(!0);let e=await y(),t=e.uakt>=(0,m.HQ)(N.akt)||e.usdc>=(0,c.Y2)(N.usdc);g(t),p(!1),t&&s()}w&&s(),j&&N.akt&&N.usdc&&v&&e()},[j,null==v?void 0:v.uakt,null==v?void 0:v.usdc,N.akt,N.usdc,w]),(0,n.jsx)(i.GI,{fullWidth:!0,open:!0,variant:"custom",actions:[{label:"Close",color:"secondary",variant:"ghost",side:"left",onClick:t},{label:"Continue",color:"primary",variant:"default",side:"right",isLoading:x,onClick:s}],hideCloseButton:!0,maxWidth:"sm",enableCloseOnBackdropClick:!1,title:"Checking Prerequisites",children:j?(0,n.jsx)(i.Zb,{children:(0,n.jsx)(i.aY,{className:"p-4",children:(0,n.jsx)("ul",{className:"space-y-4 pb-4 pt-0",children:(0,n.jsxs)("li",{className:"flex items-center space-x-4",children:[(0,n.jsx)(i.qE,{className:"h-10 w-10",children:(0,n.jsxs)(i.Q5,{children:[null===f&&(0,n.jsx)(i.$j,{size:"small"}),!0===f&&(0,n.jsx)(a.Z,{className:"text-green-600"}),!1===f&&(0,n.jsx)(r.Z,{className:"text-destructive"})]})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(h.D,{subTitle:!0,className:"!text-lg",children:"Wallet Balance"}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:["The balance of the wallet needs to be of at least ",N.akt," AET or ",N.usdc," USDC. If you do not have ",N.akt," AET or"," ",N.usdc," USDC, you will need to specify an authorized depositor."]})]})]})})})}):(0,n.jsx)("div",{className:"py-8",children:(0,n.jsx)(u.R,{text:"Setup your billing to deploy!"})})})}},61029:function(e,t,s){s.d(t,{G:function(){return m}});var n=s(52322),l=s(67810),i=s(29378),a=s(39097),r=s.n(a),o=s(88540),d=s(49158),c=s(22761);let m=e=>{let{template:t,linkHref:s}=e;return(0,n.jsxs)(r(),{className:(0,d.cn)(l.iT,"min-h-[100px] cursor-pointer !no-underline hover:bg-secondary/60 dark:hover:bg-secondary/30"),href:s||c.iO.templateDetails(t.id),children:[(0,n.jsx)(l.Ol,{children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)(l.qE,{className:"h-10 w-10",children:[(0,n.jsx)(l.F$,{src:t.logoUrl,alt:t.name}),(0,n.jsx)(l.Q5,{children:(0,n.jsx)(i.Z,{})})]}),(0,n.jsx)("div",{className:"ml-4 break-all font-bold tracking-tight",children:t.name})]})}),(0,n.jsx)(l.aY,{className:"pb-4 pt-0",children:(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,o.xu)(t.summary,128)})})]})}},62857:function(e,t,s){s.d(t,{r:function(){return function e(t,s){var n;return!!((null===(n=t.className)||void 0===n?void 0:n.split)&&t.className.split(" ").indexOf(s)>=0)||t.parentNode&&e(t.parentNode,s)}}})}}]);