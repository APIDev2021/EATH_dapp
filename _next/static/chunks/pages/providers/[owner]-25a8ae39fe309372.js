(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8350],{34055:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/providers/[owner]",function(){return a(9460)}])},42454:function(e,s,a){"use strict";a.d(s,{H:function(){return t},Z:function(){return S}});var l,t,i=a(52322);a(2784);var n=a(80589),r=a(67810),c=a(52423),o=a(17212),d=a(39097),m=a.n(d),u=a(82876),x=a(50338),v=a(30367),h=a(49158),j=a(22761),p=a(42660),g=a(29931),b=a(68866),f=a(77049),N=a(55700),w=a(10859),k=a(98951),D=a(55309);let y=e=>{let{provider:s}=e,{favoriteProviders:a,updateFavoriteProviders:l}=(0,k.D)(),t=a.some(e=>s.owner===e);return(0,i.jsx)(r.Zb,{className:"overflow-hidden rounded-b-none",children:(0,i.jsx)(r.aY,{className:"p-0",children:(0,i.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between",children:[(0,i.jsxs)("div",{className:"flex-grow-1 p-4",children:[(0,i.jsx)(N.e,{label:"Name",value:s.name}),(0,i.jsx)(N.e,{label:"Uri",value:s.hostUri}),(0,i.jsx)(N.e,{label:"Address",value:(0,i.jsx)(r.kL,{address:s.owner,isCopyable:!0})}),(0,i.jsx)(N.e,{label:"Region",value:s.ipRegion&&s.ipCountry&&"".concat(s.ipRegion,", ").concat(s.ipCountry)}),(0,i.jsx)(N.e,{label:"Active leases",value:s.leaseCount}),(0,i.jsx)(N.e,{label:"Your active leases",value:(0,i.jsxs)("div",{className:"flex items-center",children:[s.userActiveLeases||0," ",(s.userActiveLeases||0)>0&&(0,i.jsx)(w.t,{state:"active",size:"medium"})]})}),(0,i.jsx)(N.e,{label:"Up time (7d)",value:s.isOnline&&(0,i.jsx)(b.m,{value:s.uptime7d})}),(0,i.jsx)(N.e,{label:"Favorite",value:(0,i.jsx)(f._,{isFavorite:t,onClick:e=>{e.preventDefault(),e.stopPropagation(),l(t?a.filter(e=>e!==s.owner):a.concat([s.owner]))}})}),(0,i.jsx)(N.e,{label:"Audited",value:s.isAudited?(0,i.jsxs)("div",{className:"inline-flex items-center space-x-2",children:[(0,i.jsx)("span",{className:"text-sm text-muted-foreground",children:"Yes"}),(0,i.jsx)(g.q,{provider:s})]}):(0,i.jsx)("span",{className:"text-sm text-muted-foreground",children:"No"})})]}),s.isOnline&&(0,i.jsx)("div",{className:"h-full flex-shrink-0 basis-full lg:basis-2/5",children:(0,i.jsx)(D.a,{providers:[s],initialZoom:5,initialCoordinates:[parseFloat(s.ipLon),parseFloat(s.ipLat)]})})]})})})};(l=t||(t={})).DETAIL="1",l.LEASES="2",l.RAW="3";var S=e=>{let{children:s,page:a,address:l,provider:t,refresh:d}=e,g=(0,u.useRouter)(),{address:b}=(0,x.O)(),f=(0,v.Q)();return(0,i.jsxs)("div",{className:"pb-12",children:[(0,i.jsxs)("div",{className:"mb-2 flex items-center",children:[(0,i.jsx)(r.zx,{"aria-label":"back",onClick:function(){f?g.back():g.push(j.iO.providers())},size:"sm",variant:"ghost",className:"rounded-full",children:(0,i.jsx)(c.Z,{})}),(0,i.jsx)(p.D,{className:"ml-2 text-2xl",children:"Provider detail"}),(0,i.jsx)("div",{className:"ml-4",children:(0,i.jsx)(r.zx,{"aria-label":"back",onClick:()=>d(),size:"sm",className:"rounded-full",variant:"ghost",children:(0,i.jsx)(o.Z,{})})}),t&&b===l&&(0,i.jsx)("div",{className:"ml-4",children:(0,i.jsx)(m(),{href:j.iO.providerDetailEdit(t.owner),className:(0,h.cn)((0,r.dc)({variant:"default",size:"sm"})),children:"Edit"})})]}),t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y,{provider:t}),(0,i.jsxs)(r.mQ,{value:a,onValueChange:e=>{switch(e){case"2":g.push(j.iO.providerDetailLeases(l));break;case"3":g.push(j.iO.providerDetailRaw(l));break;default:g.push(j.iO.providerDetail(l))}},children:[(0,i.jsxs)(r.dr,{className:"mb-4 grid w-full grid-cols-3 rounded-t-none",children:[(0,i.jsx)(r.SP,{value:"1",children:"Detail"}),(0,i.jsx)(r.SP,{value:"2",children:"My Leases"}),(0,i.jsx)(r.SP,{value:"3",children:"Raw Data"})]}),(0,i.jsx)(n.ErrorBoundary,{FallbackComponent:r.Hj,children:(0,i.jsx)("div",{className:"pt-8",children:s})})]})]})]})}},55700:function(e,s,a){"use strict";a.d(s,{e:function(){return i}});var l=a(52322),t=a(49158);let i=e=>{let{label:s,value:a,labelWidth:i="15rem",className:n=""}=e;return(0,l.jsxs)("div",{className:(0,t.cn)(n,"mb-4 flex flex-col items-start last:mb-0 sm:flex-row sm:items-center"),children:[s&&(0,l.jsx)("div",{className:"flex shrink-0 items-center break-all pr-2 font-bold text-muted-foreground",style:{width:i},children:s}),void 0!==a&&(0,l.jsx)("div",{className:"w-full flex-grow break-all [overflow-wrap:anywhere] sm:w-auto",children:a})]})}},9460:function(e,s,a){"use strict";a.r(s),a.d(s,{__N_SSP:function(){return F},default:function(){return G}});var l=a(52322),t=a(2784),i=a(63470),n=a(67810),r=a(84001),c=a(27149),o=a(3634),d=a(92636),m=a(43681),u=a(25237),x=a.n(u),v=a(55700),h=a(50338),j=a(80179),p=a(48332),g=a(49158),b=a(22761),f=a(22103),N=a(36200),w=a(42660);let k=e=>{let{value:s,className:a="",unit:t=""}=e;if("number"!=typeof s)return null;let n=s>=0;return(0,l.jsxs)("span",{className:a,children:[n?"+":null,(0,l.jsx)(i.BK,{value:s,maximumFractionDigits:2}),t&&" ".concat(t)]})};var D=a(90259),y=a(89159);let S=e=>{let{value:s,size:a="small",className:t=""}=e;if("number"!=typeof s)return null;let n=s>=0;return(0,l.jsxs)("span",{className:(0,g.cn)(t,"flex items-center font-bold",{"text-red-400":!n,"text-green-600":n,"text-sm":"small"===a,"text-base":"medium"===a}),children:[n?(0,l.jsx)(D.Z,{className:"text-xs"}):(0,l.jsx)(y.Z,{className:"text-xs"}),(0,l.jsx)("span",{className:"ml-1",children:(0,l.jsx)(i.BK,{style:"percent",maximumFractionDigits:2,value:Math.abs(s)})})]})};var P=a(51328);let C=e=>{let{selectedRange:s,onRangeChange:a}=e,t=e=>{a(e)};return(0,l.jsxs)(n.tX,{type:"single","aria-label":"Graph range select",color:"secondary",size:"sm",className:"mx-auto my-0 sm:mx-0",children:[(0,l.jsx)(n.GX,{value:"7D",className:(0,g.cn)({"!bg-primary font-bold !text-white":s===P.PD["7D"]}),onClick:()=>t(P.PD["7D"]),size:"sm",children:"7D"}),(0,l.jsx)(n.GX,{value:"1M",className:(0,g.cn)({"!bg-primary font-bold !text-white":s===P.PD["1M"]}),onClick:()=>t(P.PD["1M"]),size:"sm",children:"1M"}),(0,l.jsx)(n.GX,{value:"ALL",className:(0,g.cn)({"!bg-primary font-bold !text-white":s===P.PD.ALL}),onClick:()=>t(P.PD.ALL),size:"sm",children:"ALL"})]})};var L=a(8046),U=a(69793),Z=a(40905);let O=x()(()=>Promise.all([a.e(2928),a.e(4961),a.e(9435)]).then(a.bind(a,39435)),{loadableGenerated:{webpack:()=>[39435]},ssr:!1}),T=e=>{let{provider:s}=e,{data:a,status:r}=(0,p.mv)(s.owner),[c,o]=(0,t.useState)(P.PD["7D"]),d=a&&a.snapshots.length>0,m=d&&(0,Z.NW)(),u=d&&a.snapshots.slice(Math.max(a.snapshots.length-c,0),a.snapshots.length),x=d&&m.unitFn(a.currentValue),v=d&&m.unitFn(a.currentValue-a.compareValue);return(0,l.jsxs)("div",{className:"m-auto max-w-[800px]",children:[(0,l.jsx)("div",{className:"mb-1",children:(0,l.jsxs)(w.D,{subTitle:!0,className:"space-x-4 font-normal tracking-tight",children:[(0,l.jsx)("span",{children:"Active Leases"}),s.name&&(0,l.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(",s.name,")"]})]})}),!a&&"loading"===r&&(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(n.$j,{size:"large"})}),!d&&"success"===r&&(0,l.jsx)("div",{className:"my-2 text-muted-foreground",children:"No data available"}),d&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-4 flex flex-col flex-wrap justify-between sm:flex-row sm:flex-nowrap",children:[(0,l.jsx)("div",{className:"mb-4 basis-full sm:mb-0 sm:basis-0",children:(0,l.jsxs)("h3",{className:"flex items-center text-4xl font-bold tracking-tight sm:justify-center",children:[(0,l.jsx)(i.BK,{value:x.modifiedValue||x.value,maximumFractionDigits:2,notation:"compact",compactDisplay:"short"}),"\xa0",x.unit?"".concat(x.unit," "):"",(0,l.jsx)(S,{value:(0,U.YG)(a.compareValue,a.currentValue),size:"medium",className:"ml-2"}),"\xa0",(0,l.jsx)(k,{value:v.modifiedValue||v.value,unit:v.unit,className:"whitespace-nowrap text-sm font-light"})]})}),(0,l.jsx)(C,{selectedRange:c,onRangeChange:o})]}),(0,l.jsx)(O,{rangedData:u,snapshotMetadata:m,snapshot:L.zJ.count,snapshotData:a,selectedRange:c})]})]})};var A=a(42454),z=a(70172);let E=e=>{var s;let{provider:a}=e,t=(null==a?void 0:null===(s=a.gpuModels)||void 0===s?void 0:s.map(e=>e.model+" "+e.ram).filter((0,z.q)()).sort((e,s)=>e.localeCompare(s)))||[];return(0,l.jsx)(n.Zb,{children:(0,l.jsxs)(n.aY,{className:"grid grid-cols-1 gap-4 p-4 sm:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(v.e,{label:"GPU",value:a.hardwareGpuVendor||"Unknown"}),(0,l.jsx)(v.e,{label:"CPU",value:a.hardwareCpu||"Unknown"}),(0,l.jsx)(v.e,{label:"Memory (RAM)",value:a.hardwareMemory||"Unknown"}),(0,l.jsx)(v.e,{label:"Persistent Storage",value:a.featPersistentStorage&&(0,l.jsx)(m.Z,{className:"ml-2 text-primary"})}),(0,l.jsx)(v.e,{label:"Download speed",value:a.networkSpeedDown}),(0,l.jsx)(v.e,{label:"Network Provider",value:a.networkProvider})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(v.e,{label:"GPU Models",value:t.map(e=>(0,l.jsx)(n.Ct,{className:"mr-2",children:e},e))}),(0,l.jsx)(v.e,{label:"CPU Architecture",value:a.hardwareCpuArch}),(0,l.jsx)(v.e,{label:"Disk Storage",value:a.hardwareDisk}),(0,l.jsx)(v.e,{label:"Persistent Disk Storage",value:a.featPersistentStorageType}),(0,l.jsx)(v.e,{label:"Upload speed",value:a.networkSpeedUp})]})]})})},M=x()(()=>Promise.all([a.e(2928),a.e(9433),a.e(7725)]).then(a.bind(a,77725)),{loadableGenerated:{webpack:()=>[77725]},ssr:!1}),_=e=>{var s,a;let{owner:u,_provider:x}=e,[k,D]=(0,t.useState)(x),{address:y}=(0,h.O)(),{isLoading:S,refetch:P}=(0,p._o)(u,{enabled:!1,retry:!1,onSuccess:e=>{D(s=>s?{...s,...e}:e)}}),{data:C,isFetching:L,refetch:U}=(0,j.Mw)(y,{enabled:!1}),{data:Z,isFetching:O}=(0,p.BH)(),{isLoading:z,refetch:_}=(0,p.UP)((null==k?void 0:k.hostUri)||"",{enabled:!0,retry:!1,onSuccess:e=>{D(s=>s?{...s,...e}:e)}}),F=S||z||L||O,G=(0,r.Z)(),R=(0,c.Z)(G.breakpoints.down("lg"));(0,t.useEffect)(()=>{P(),U()},[]),(0,t.useEffect)(()=>{if(C){let e=(null==C?void 0:C.filter(e=>e.provider===u).length)||0,s=(null==C?void 0:C.filter(e=>e.provider===u&&"active"===e.state).length)||0;D(a=>({...a,userLeases:e,userActiveLeases:s}))}},[C]);let V=(0,t.useMemo)(()=>(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=[];for(let a of[...e].sort((e,s)=>new Date(e.checkDate).getTime()-new Date(s.checkDate).getTime())){let e=s.find(e=>(0,o.Z)(new Date(a.checkDate),e.checkDate)<(R?30:15));e?e.checks.push(a.isOnline):s.push({checkDate:new Date(a.checkDate),checks:[a.isOnline]})}return s.map(e=>({date:e.checkDate,status:e.checks.every(e=>e)?"online":e.checks.every(e=>!e)?"offline":"partial"}))})((null==k?void 0:k.uptime)||[]),[null==k?void 0:k.uptime,R]),Y=k&&(k.isOnline||k.lastOnlineDate&&new Date(k.lastOnlineDate)>=(0,d.Z)(new Date,{hours:24}));return(0,l.jsxs)(f.Z,{isLoading:F,children:[(0,l.jsx)(N.T,{title:"Provider detail ".concat((null==k?void 0:k.name)||(null==k?void 0:k.owner)),url:"".concat(b.OT).concat(b.iO.providerDetail(u))}),(0,l.jsxs)(A.Z,{address:u,page:A.H.DETAIL,refresh:()=>{P(),U(),_()},provider:k,children:[!k&&F&&(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(n.$j,{size:"large"})}),k&&!Y&&!S&&(0,l.jsx)(n.bZ,{variant:"warning",className:"flex items-center justify-center p-8 text-lg",children:"This provider is inactive."}),k&&Y&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)(M,{activeCPU:k.activeStats.cpu/1e3,activeGPU:k.activeStats.gpu,activeMemory:k.activeStats.memory,activeStorage:k.activeStats.storage,pendingCPU:k.pendingStats.cpu/1e3,pendingGPU:k.pendingStats.gpu,pendingMemory:k.pendingStats.memory,pendingStorage:k.pendingStats.storage,totalCPU:(k.availableStats.cpu+k.pendingStats.cpu+k.activeStats.cpu)/1e3,totalGPU:k.availableStats.gpu+k.pendingStats.gpu+k.activeStats.gpu,totalMemory:k.availableStats.memory+k.pendingStats.memory+k.activeStats.memory,totalStorage:k.availableStats.storage+k.pendingStats.storage+k.activeStats.storage})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-4 space-y-4 lg:grid-cols-2",children:[(0,l.jsx)("div",{className:"basis-1/2",children:(0,l.jsx)(T,{provider:k})}),(0,l.jsxs)("div",{className:"order-first basis-1/2 lg:order-last",children:[(0,l.jsxs)(w.D,{subTitle:!0,className:"mb-2 font-normal tracking-tight",children:["Up time ",(0,l.jsx)("span",{className:"ml-1 text-sm",children:"(24h)"})]}),(0,l.jsx)("div",{className:"flex items-center space-x-[1px] lg:space-x-[2px]",children:V.map(e=>(0,l.jsx)(n.vQ,{title:(0,l.jsx)(i.Ji,{value:e.date,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),children:(0,l.jsx)("div",{className:(0,g.cn)("h-[24px] w-[2%] max-w-[8px] rounded-[2px]",{"bg-green-600":"online"===e.status,"bg-destructive":"offline"===e.status,"bg-warning":"partial"===e.status})})},e.date.toISOString()))}),(0,l.jsxs)("div",{className:"mt-1 flex items-center justify-between text-xs text-muted-foreground",children:[(0,l.jsx)("span",{children:"24h ago"}),(0,l.jsx)("span",{children:"Now"})]})]})]})]}),k&&Z&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)(w.D,{subTitle:!0,className:"mb-4 font-normal tracking-tight",children:"General Info"}),(0,l.jsx)(n.Zb,{className:"mb-4",children:(0,l.jsxs)(n.aY,{className:"mb-4 grid grid-cols-1 gap-4 p-4 sm:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(v.e,{label:"Host",value:k.host}),(0,l.jsx)(v.e,{label:"Website",value:k.website}),(0,l.jsx)(v.e,{label:"Status page",value:k.statusPage}),(0,l.jsx)(v.e,{label:"Country",value:k.country}),(0,l.jsx)(v.e,{label:"Timezone",value:k.timezone}),(0,l.jsx)(v.e,{label:"Hosting Provider",value:k.hostingProvider})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(v.e,{label:"Email",value:k.email}),(0,l.jsx)(v.e,{label:"Organization",value:k.organization}),(0,l.jsx)(v.e,{label:"Region",value:k.locationRegion}),(0,l.jsx)(v.e,{label:"City",value:k.city}),(0,l.jsx)(v.e,{label:"Location Type",value:k.locationType}),(0,l.jsx)(v.e,{label:"Tier",value:k.tier})]})]})}),(0,l.jsx)(w.D,{subTitle:!0,className:"mb-4 font-normal tracking-tight",children:"Specs"}),(0,l.jsx)(E,{provider:k}),(0,l.jsx)(w.D,{subTitle:!0,className:"mb-4 mt-4 font-normal tracking-tight",children:"Features"}),(0,l.jsx)(n.Zb,{className:"mb-4",children:(0,l.jsxs)(n.aY,{className:"grid grid-cols-1 gap-4 p-4 sm:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(v.e,{label:"Akash version",value:k.akashVersion||"Unknown"}),(0,l.jsx)(v.e,{label:"IP Leases",value:k.featEndpointIp&&(0,l.jsx)(m.Z,{className:"ml-0 text-primary sm:ml-2"})}),(0,l.jsx)(v.e,{label:"Chia",value:k.workloadSupportChia&&(0,l.jsx)(m.Z,{className:"ml-0 text-primary sm:ml-2"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(v.e,{label:"Kube version",value:k.kube?"".concat(null===(s=k.kube)||void 0===s?void 0:s.major,".").concat(null===(a=k.kube)||void 0===a?void 0:a.minor):"Unkown"}),(0,l.jsx)(v.e,{label:"Custom domain",value:k.featEndpointCustomDomain&&(0,l.jsx)(m.Z,{className:"ml-0 text-primary sm:ml-2"})}),(0,l.jsx)(v.e,{label:"Chia capabilities",value:k.workloadSupportChiaCapabilities})]})]})}),(0,l.jsx)(w.D,{subTitle:!0,className:"mb-4 font-normal tracking-tight",children:"Stats"}),(0,l.jsx)(n.Zb,{className:"mb-4",children:(0,l.jsxs)(n.aY,{className:"p-4",children:[(0,l.jsx)(v.e,{label:"Deployments",value:k.deploymentCount}),(0,l.jsx)(v.e,{label:"Leases",value:k.leaseCount}),(0,l.jsx)(v.e,{label:"Orders",value:k.orderCount||"0"}),k.error&&(0,l.jsx)(v.e,{label:"Errors",value:k.error})]})})]}),(0,l.jsx)(w.D,{subTitle:!0,className:"mb-4 font-normal tracking-tight",children:"Raw attributes"}),(0,l.jsx)(n.Zb,{children:(0,l.jsx)(n.aY,{className:"p-4",children:k.attributes.map(e=>(0,l.jsx)(v.e,{label:e.key,value:e.value},e.key))})})]})]})]})};var F=!0,G=e=>{let{owner:s,_provider:a}=e;return(0,l.jsx)(_,{owner:s,_provider:a})}},70172:function(e,s,a){"use strict";function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(e,s)=>e===s;return(s,a,l)=>l.findIndex(a=>e(s,a))===a}a.d(s,{q:function(){return l}})}},function(e){e.O(0,[4618,1733,6033,2888,9774,179],function(){return e(e.s=34055)}),_N_E=e.O()}]);