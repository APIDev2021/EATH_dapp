"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6033],{29931:function(e,t,n){n.d(t,{q:function(){return c}});var r=n(52322),s=n(2784),o=n(67810),i=n(74796),a=n(48332),l=n(78780);let u=e=>{let{attributes:t,onClose:n}=e,{data:s}=(0,a.MZ)(),i=(e,t)=>{e.preventDefault(),e.stopPropagation(),window.open(t,"_blank")};return(0,r.jsx)(o.GI,{fullWidth:!0,open:!0,variant:"custom",title:"Audited Attributes",actions:[{label:"Close",color:"secondary",variant:"text",side:"left",onClick:n}],onClose:n,maxWidth:"md",enableCloseOnBackdropClick:!0,children:(0,r.jsxs)(o.iA,{children:[(0,r.jsx)(o.xD,{children:(0,r.jsxs)(o.SC,{children:[(0,r.jsx)(o.ss,{children:"Key"}),(0,r.jsx)(o.ss,{children:"Value"}),(0,r.jsx)(o.ss,{className:"text-center",children:"Auditors"})]})}),(0,r.jsx)(o.RM,{children:t.map(e=>(0,r.jsxs)(o.SC,{children:[(0,r.jsx)(o.pj,{children:e.key}),(0,r.jsx)(o.pj,{children:e.value}),(0,r.jsx)(o.pj,{children:(0,r.jsx)("div",{className:"flex flex-col items-center space-y-1",children:e.auditedBy.filter(e=>null==s?void 0:s.some(t=>t.address===e)).map(e=>{let t=null==s?void 0:s.find(t=>t.address===e);return(0,r.jsx)("div",{children:(0,r.jsx)(o.WH,{title:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,r.jsx)(l.e,{onClick:e=>i(e,null==t?void 0:t.website),children:null==t?void 0:t.website}),(0,r.jsx)(o.kL,{address:(null==t?void 0:t.address)||"",isCopyable:!0,disableTooltip:!0})]}),children:(0,r.jsx)("div",{children:(0,r.jsx)(o.Ct,{variant:"outline",children:null==t?void 0:t.name})})})},e)})})})]},e.key))})]})})},c=e=>{let{provider:t}=e,[n,a]=(0,s.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.zx,{onClick:e=>{e.preventDefault(),e.stopPropagation(),a(!0)},size:"icon",className:"h-8 w-8 rounded-full",variant:"ghost",children:(0,r.jsx)(i.Z,{className:"text-sm text-green-600",fontSize:"small",color:"success"})}),n&&(0,r.jsx)(u,{attributes:t.attributes||[],onClose:e=>{null==e||e.preventDefault(),null==e||e.stopPropagation(),a(!1)}})]})}},55309:function(e,t,n){n.d(t,{a:function(){return v}});var r=n(52322),s=n(2784),o=n(27865),i=n(67810),a=n(40400),l=n(9339),u=n(27335),c=n(39097),d=n.n(c),p=n(22761);let v=e=>{let{providers:t,initialZoom:n=1,initialCoordinates:c=[0,0]}=e,[v,f]=(0,s.useState)({r:5,w:1}),m=t.filter(e=>e.isOnline),[g,h]=(0,s.useState)({coordinates:c,zoom:n}),x=g.coordinates[0]===c[0]&&g.coordinates[1]===c[1]&&g.zoom===n;(0,s.useEffect)(()=>{y(g.zoom)},[]);let y=e=>{e<3?f({r:5,w:1}):e<5?f({r:3,w:.8}):e<6.5?f({r:2,w:.5}):e<=8&&f({r:1.5,w:.2})};return(0,r.jsxs)("div",{className:"relative flex",children:[(0,r.jsxs)("div",{className:"absolute left-1/2 -translate-x-1/2 transform space-x-2 rounded-md bg-black bg-opacity-20 p-2",children:[(0,r.jsx)(i.zx,{onClick:()=>{h(e=>{let t=Math.min(8,e.zoom+1);return y(t),{...e,zoom:t}})},disabled:8===g.zoom,size:"icon",variant:"ghost",children:(0,r.jsx)(a.Z,{})}),(0,r.jsx)(i.zx,{onClick:()=>{h(e=>{let t=Math.max(1,e.zoom-1);return y(t),{...e,zoom:t}})},disabled:1===g.zoom,size:"icon",variant:"ghost",children:(0,r.jsx)(l.Z,{})}),(0,r.jsx)(i.zx,{onClick:()=>void(h({coordinates:c,zoom:n}),y(n)),disabled:x,size:"icon",variant:"ghost",children:(0,r.jsx)(u.Z,{})})]}),(0,r.jsx)(o.ComposableMap,{projectionConfig:{rotate:[-10,0,0]},children:(0,r.jsxs)(o.ZoomableGroup,{zoom:g.zoom,center:g.coordinates,onMoveEnd:function(e){h(e),y(e.zoom)},filterZoomEvent:e=>!(e instanceof WheelEvent),children:[(0,r.jsx)(o.Geographies,{geography:"https://cdn.jsdelivr.net/npm/world-atlas@2/land-110m.json",children:e=>{let{geographies:t}=e;return t.map(e=>(0,r.jsx)(o.Geography,{geography:e,className:"fill-neutral-500 dark:fill-neutral-800",style:{default:{outline:"none"},hover:{outline:"none"},pressed:{outline:"none"}}},e.rsmKey))}}),m.map(e=>{let{owner:t,name:n,ipLon:s,ipLat:a,ipRegion:l,ipCountryCode:u}=e;return(0,r.jsx)(d(),{href:p.iO.providerDetail(t),children:(0,r.jsx)(o.Marker,{coordinates:[parseFloat(s),parseFloat(a)],children:(0,r.jsx)(i.vQ,{title:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-lg",children:n}),(0,r.jsxs)("strong",{children:[l,", ",u]})]}),children:(0,r.jsx)("circle",{className:"cursor-pointer fill-primary",stroke:"#FFF",strokeWidth:v.w,r:v.r})})})},t)})]})})]})}},68866:function(e,t,n){n.d(t,{m:function(){return i}});var r=n(52322),s=n(83112),o=n(49158);let i=e=>{let{value:t}=e,n=(0,s.Z)();return(0,r.jsx)("span",{className:(0,o.cn)({"text-green-600":t>.95,"text-orange-600":t<.95}),children:n.formatNumber(t,{style:"percent",maximumFractionDigits:2})})}},36200:function(e,t,n){n.d(t,{T:function(){return o}});var r=n(52322);n(2784);var s=n(55351);let o=e=>{let{title:t,description:n="",url:o,images:i}=e;return(0,r.jsx)(s.PB,{title:t,description:n,canonical:o,openGraph:{url:o,title:t,description:n,images:i}})}},77049:function(e,t,n){n.d(t,{_:function(){return a}});var r=n(52322),s=n(67810),o=n(39707),i=n(12594);let a=e=>{let{onClick:t,isFavorite:n}=e;return(0,r.jsx)(s.zx,{onClick:t,size:"icon",className:"h-8 w-8 rounded-full",variant:"ghost",children:n?(0,r.jsx)(o.Z,{className:"text-xs text-primary"}):(0,r.jsx)(i.Z,{className:"text-xs text-muted-foreground"})})}},78780:function(e,t,n){n.d(t,{e:function(){return o}});var r=n(52322);n(2784);var s=n(49158);function o(e){let{children:t,className:n="",...o}=e;return(0,r.jsx)("button",{type:"button",...o,className:(0,s.cn)(n,"m-0 inline-flex cursor-pointer border-0 bg-transparent p-0 text-primary underline visited:text-primary-visited disabled:cursor-default disabled:text-gray-500"),children:t})}},80179:function(e,t,n){n.d(t,{BI:function(){return p},Mw:function(){return f},rf:function(){return g}});var r=n(82066),s=n(87066),o=n(67155),i=n(51328),a=n(98649),l=n(77617),u=n(22021),c=n(94590);async function d(e,t,n){return t?(await (0,o.fe)(o.ig.leaseList(e,t,null==n?void 0:n.dseq),"leases",1e3)).map(e=>(0,a.cN)(e,n)):null}function p(e,t,n){let{settings:s}=(0,u.r)();return(0,r.useQuery)(c.i.getLeasesKey(e,null==t?void 0:t.dseq),()=>d(s.apiEndpoint,e,t),n)}async function v(e,t,n){return t?(await (0,o.fe)(o.ig.leaseList(e,t,null==n?void 0:n.dseq),"leases",1e3)).map(e=>(0,a.cN)(e,n)):null}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{settings:n}=(0,u.r)();return(0,r.useQuery)(c.i.getAllLeasesKey(e),()=>v(n.apiEndpoint,e),t)}async function m(e,t,n){if(!e)return null;let r="".concat(e,"/lease/").concat(t.dseq,"/").concat(t.gseq,"/").concat(t.oseq,"/status");return(await s.Z.post(i.Me,{method:"GET",url:r,certPem:null==n?void 0:n.certPem,keyPem:null==n?void 0:n.keyPem})).data}function g(e,t,n){let{localCert:s}=(0,l.g)();return(0,r.useQuery)(c.i.getLeaseStatusKey(null==t?void 0:t.dseq,null==t?void 0:t.gseq,null==t?void 0:t.oseq),()=>m(e,t,s),n)}},48332:function(e,t,n){n.d(t,{BH:function(){return j},Ke:function(){return _},MZ:function(){return g},UP:function(){return p},_o:function(){return c},mv:function(){return x},p3:function(){return f},wi:function(){return b}});var r=n(82066),s=n(87066),o=n(67155),i=n(51328),a=n(40905),l=n(94590);async function u(e){return e?(await s.Z.get(o.ig.providerDetail(e))).data:null}function c(e,t){return(0,r.useQuery)(l.i.getProviderDetailKey(e),()=>u(e),t)}async function d(e){if(!e)return null;try{let t=await s.Z.post(i.Me,{url:"".concat(e,"/status"),method:"GET"}),n=await s.Z.post(i.Me,{url:"".concat(e,"/version"),method:"GET"});return(0,a.OH)(t.data,(null==n?void 0:n.data)||{})}catch(e){throw console.log(e),e}}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.useQuery)(l.i.getProviderStatusKey(e),()=>d(e),t)}async function v(){let e=await s.Z.get(o.ig.networkCapacity());return(0,a.Hy)(e.data)}function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.useQuery)(l.i.getNetworkCapacity(),()=>v(),e)}async function m(){return(await s.Z.get(o.ig.auditors())).data}function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.useQuery)(l.i.getAuditorsKey(),()=>m(),{...e,refetchInterval:!1,refetchIntervalInBackground:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})}async function h(e){return(await s.Z.get(o.ig.providerActiveLeasesGraph(e))).data}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.useQuery)(l.i.getProviderActiveLeasesGraph(e),()=>h(e),t)}async function y(){return(await s.Z.get(o.ig.providerAttributesSchema())).data}function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.useQuery)(l.i.getProviderAttributesSchema(),()=>y(),{...e,refetchInterval:!1,refetchIntervalInBackground:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})}async function w(){return(await s.Z.get(o.ig.providerList())).data}function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.useQuery)(l.i.getProviderListKey(),()=>w(),e)}async function q(){return(await s.Z.get(o.ig.providerRegions())).data}function _(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.useQuery)(l.i.getProviderRegionsKey(),()=>q(),e)}},98649:function(e,t,n){n.d(t,{Ip:function(){return o},aw:function(){return i},cN:function(){return u},mt:function(){return l}});var r=n(40051);function s(e,t){return e.groups.map(e=>e.group_spec.resources.map(e=>{var n;return e.count*t(null!==(n=e.resources)&&void 0!==n?n:e.resource)}).reduce((e,t)=>e+t)).reduce((e,t)=>e+t)}function o(e,t){return e&&e.group_spec&&e.group_spec?e.group_spec.resources.map(e=>{var n;return e.count*t(null!==(n=e.resources)&&void 0!==n?n:e.resource)}).reduce((e,t)=>e+t):0}function i(e){let t=(0,r.XS)(e.escrow_account.balance);return e.escrow_account.funds&&(t+=(0,r.XS)(e.escrow_account.funds)),{dseq:e.deployment.deployment_id.dseq,state:e.deployment.state,version:e.deployment.version,denom:e.escrow_account.balance.denom,createdAt:parseInt(e.deployment.created_at),escrowBalance:t,transferred:e.escrow_account.transferred,cpuAmount:s(e,e=>parseInt(e.cpu.units.val)/1e3),gpuAmount:s(e,e=>{var t,n;return parseInt((null===(n=e.gpu)||void 0===n?void 0:null===(t=n.units)||void 0===t?void 0:t.val)||0)}),memoryAmount:s(e,e=>parseInt(e.memory.quantity.val)),storageAmount:s(e,e=>a(e.storage).map(e=>parseInt(e.quantity.val)).reduce((e,t)=>e+t,0)),escrowAccount:{...e.escrow_account},groups:[...e.groups]}}function a(e){return Array.isArray(e)?e:[e]}let l=e=>Array.isArray(e.storage)?e.storage.map(e=>parseInt(e.quantity.val)).reduce((e,t)=>e+t,0):parseInt(e.storage.quantity.val);function u(e,t){let n=t?t.groups.filter(t=>t.group_id.gseq===e.lease.lease_id.gseq)[0]:{};return{id:e.lease.lease_id.dseq+e.lease.lease_id.gseq+e.lease.lease_id.oseq,owner:e.lease.lease_id.owner,provider:e.lease.lease_id.provider,dseq:e.lease.lease_id.dseq,gseq:e.lease.lease_id.gseq,oseq:e.lease.lease_id.oseq,state:e.lease.state,price:e.lease.price,cpuAmount:t?o(n,e=>parseInt(e.cpu.units.val)/1e3):void 0,gpuAmount:t?o(n,e=>{var t,n;return parseInt((null===(n=e.gpu)||void 0===n?void 0:null===(t=n.units)||void 0===t?void 0:t.val)||0)}):void 0,memoryAmount:t?o(n,e=>parseInt(e.memory.quantity.val)):void 0,storageAmount:t?o(n,e=>a(e.storage).map(e=>parseInt(e.quantity.val)).reduce((e,t)=>e+t,0)):void 0,group:n}}}}]);