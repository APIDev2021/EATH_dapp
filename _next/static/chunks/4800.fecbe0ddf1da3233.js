(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4800],{16234:function(e,t,r){"use strict";r.r(t),r.d(t,{YourAccount:function(){return C},default:function(){return S}});var n=r(52322),s=r(2784),a=r(83112),o=function(e){var t=(0,a.Z)(),r=t.formatPlural,n=t.textComponent,o=e.value,l=e.other,c=e.children,i=r(o,e),d=e[i]||l;return"function"==typeof c?c(d):n?s.createElement(n,null,d):d};o.displayName="FormattedPlural";var l=r(63470),c=r(67810),i=r(8105),d=r(36369),u=r(68901),m=r(39097),f=r.n(m),p=r(38617),x=r(40062),v=r(54302),h=r(50338),g=r(40284),j=r(38612),b=r(50766),y=r(55055),N=r(51328),w=r(69793),O=r(40051),_=r(49158),E=r(16710),L=r(22761),D=r(35541),k=r(51369),A=r(79808),T=r(10859);let C=e=>{let{balances:t,isLoadingBalances:r,activeDeployments:a,leases:i,providers:m}=e,{resolvedTheme:C}=(0,p.F)(),S=(0,j.Z)(),{address:U,isManaged:z,creditAmount:F=0}=(0,h.O)(),K=(0,g.NV)(),[M,R]=(0,s.useState)(null),[B,W]=(0,s.useState)(null),[I,Y]=(0,s.useState)(null),Z=a.filter(e=>e.escrowAccount.balance.denom===N.Dn).map(e=>e.escrowBalance).reduce((e,t)=>e+t,0),G=a.filter(e=>e.escrowAccount.balance.denom===K).map(e=>e.escrowBalance).reduce((e,t)=>e+t,0),X=t?t.balance+Z:0,V=t?t.balanceUsdc+G:0,$=t&&0!==X,q=a.map(e=>e.cpuAmount).reduce((e,t)=>e+t,0),H=a.map(e=>e.gpuAmount).reduce(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e+t},0),J=a.map(e=>e.memoryAmount).reduce((e,t)=>e+t,0),Q=a.map(e=>e.storageAmount).reduce((e,t)=>e+t,0),ee=(0,E.tA)(J),et=(0,E.tA)(Q),[,er]=(0,u.KO)(b.Z.deploySdl),{price:en,isLoaded:es}=(0,v.t)(),ea={balance_akt:y.h1.akashRed,balance_usdc:y.h1.akashRed,deployment_akt:S.theme.colors.green[600],deployment_usdc:S.theme.colors.green[600]},eo=t&&(!z||"uakt"===x.envConfig.NEXT_PUBLIC_MANAGED_WALLET_DENOM)?[{id:"balance_akt",label:"Balance",denom:N.Dn,denomLabel:"AETH",value:z&&"uakt"===x.envConfig.NEXT_PUBLIC_MANAGED_WALLET_DENOM?t.balance+F:t.balance,color:ea.balance_akt},{id:"deployment_akt",label:"Deployment",denom:N.Dn,denomLabel:"AETH",value:Z,color:ea.deployment_akt}]:[],el=t&&(!z||"usdc"===x.envConfig.NEXT_PUBLIC_MANAGED_WALLET_DENOM)?[{id:"balance_usdc",label:"Balance",denom:K,denomLabel:"USDC",value:z&&"usdc"===x.envConfig.NEXT_PUBLIC_MANAGED_WALLET_DENOM?t.balanceUsdc+F:t.balanceUsdc,color:ea.balance_usdc},{id:"deployment_usdc",label:"Deployment",denom:K,denomLabel:"USDC",value:G,color:ea.deployment_usdc}]:[],ec=eo.filter(e=>e.value),ei=el.filter(e=>e.value),ed=[...eo,...el];(0,s.useEffect)(()=>{if(i&&m&&en&&es){let e=i.filter(e=>"active"===e.state),t=e.map(e=>{switch(e.price.denom){case N.Dn:return(0,w.zL)(e.price.amount,10)*en;case K:return(0,w.zL)(e.price.amount,10);default:return 0}}).reduce((e,t)=>e+t,0),r=e.map(e=>e.provider).filter((e,t,r)=>r.indexOf(e)===t).map(e=>{let t=m.find(t=>t.owner===e);return{owner:(null==t?void 0:t.owner)||"",name:(null==t?void 0:t.name)||"Unknown"}});W((0,O.qR)(t)),Y(r)}},[i,m,en,es]);let eu=e=>em(e.id,M),em=(e,t)=>t&&e!==t?"dark"===C?S.theme.colors.neutral[800]:"#e0e0e0":ea[e];return(0,n.jsxs)(c.Zb,{children:[(0,n.jsx)(c.Ol,{children:(0,n.jsx)(c.ll,{className:"text-2xl font-bold",children:"Your Account"})}),(0,n.jsxs)(c.aY,{children:[U&&(0,n.jsxs)("div",{className:"flex flex-col justify-between lg:flex-row",children:[r&&!t&&(0,n.jsx)("div",{className:"flex h-[200px] basis-[220px] items-center justify-center",children:(0,n.jsx)(c.$j,{size:"large"})}),(0,n.jsxs)("div",{className:"basis-2/5",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[a.length>0&&(0,n.jsx)(T.t,{state:"active",style:{marginLeft:0}}),(0,n.jsxs)("p",{className:(0,_.cn)({"ml-4":a.length>0}),children:["You have"," ",(0,n.jsxs)(f(),{href:L.iO.deploymentList(),passHref:!0,children:[a.length," active"," ",(0,n.jsx)(o,{value:a.length,zero:"deployment",one:"deployment",other:"deployments"})]})]})]}),a.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"mt-8",children:[(0,n.jsx)("p",{className:"mb-4 text-sm text-muted-foreground",children:"Total resources leased"}),(0,n.jsxs)("div",{className:"flex flex-col items-start",children:[(0,n.jsx)(k.K,{type:"cpu",value:q}),!!H&&(0,n.jsx)(k.K,{type:"gpu",value:H}),(0,n.jsx)(k.K,{type:"ram",value:"".concat((0,w.v5)(ee.value,1)," ").concat(ee.unit)}),(0,n.jsx)(k.K,{type:"storage",value:"".concat((0,w.v5)(et.value,1)," ").concat(et.unit)})]})]}),(0,n.jsxs)("div",{className:"mt-8",children:[(0,n.jsx)("p",{className:"mb-4 text-sm text-muted-foreground",children:"Total cost"}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:(0,n.jsx)(l.BK,{value:B||0,style:"currency",currency:"USD"})})," ","/ month"]})})]}),(0,n.jsxs)("div",{className:"mt-8",children:[(0,n.jsx)("p",{className:"mb-4 text-sm text-muted-foreground",children:"Providers"}),(0,n.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:null==I?void 0:I.map(e=>(0,n.jsx)(f(),{href:L.iO.providerDetailLeases(e.owner),children:(0,n.jsx)(c.Ct,{children:e.name})},e.owner))})]})]}):(0,n.jsxs)(f(),{href:L.iO.newDeployment(),className:(0,_.cn)("mt-4",(0,c.dc)({variant:"default"})),onClick:()=>{er(null)},children:["Deploy",(0,n.jsx)(d.Z,{className:"ml-4 rotate-45 text-sm"})]})]}),(0,n.jsxs)("div",{className:"mt-4 flex basis-3/5 flex-col items-center md:mt-0 md:flex-row",children:[$&&(0,n.jsxs)("div",{children:[ec.length>0&&(0,n.jsx)(P,{data:ec,getColor:eu,label:"AETH"}),ei.length>0&&(0,n.jsx)(P,{data:ei,getColor:eu,label:z?"$":"USDC"})]}),t&&(0,n.jsxs)("div",{className:(0,_.cn)({"p-4":!$}),onMouseLeave:()=>R(null),children:[ed.map((e,t)=>(0,n.jsxs)("div",{className:"mb-2 flex items-center text-xs leading-5 transition-opacity duration-200 ease-in-out",onMouseEnter:()=>R(e.id),style:{opacity:M&&e.id!==M?.3:1},children:[(0,n.jsx)("div",{className:"h-4 w-4 rounded-lg",style:{backgroundColor:e.color}}),(0,n.jsx)("div",{className:"ml-4 w-[90px] font-bold",children:e.label}),!z&&(0,n.jsxs)("div",{className:"ml-4 w-[100px]",children:[(0,w.zL)(e.value,2)," ",e.denomLabel]}),(0,n.jsx)("div",{children:(0,n.jsx)(A.N,{denom:e.denom,value:(0,w.zL)(e.value,6)})})]},t)),(0,n.jsxs)("div",{className:"mb-2 flex items-center text-sm leading-5 transition-opacity duration-200 ease-in-out",children:[(0,n.jsx)("div",{className:"h-4 w-4 rounded-lg"}),(0,n.jsx)("div",{className:"ml-4 w-[90px] font-bold",children:"Total"}),!z&&(0,n.jsx)("div",{className:"ml-4 w-[100px]",children:(0,n.jsxs)("strong",{children:[(0,O.Yk)(X,2)," AKT"]})}),(0,n.jsx)("div",{children:(0,n.jsx)("strong",{children:(0,n.jsx)(A.N,{denom:N.Dn,value:(0,O.Yk)(X,6)})})})]}),(0,n.jsxs)("div",{className:"mb-2 flex items-center text-sm leading-5 transition-opacity duration-200 ease-in-out",children:[(0,n.jsx)("div",{className:"h-4 w-4 rounded-lg"}),(0,n.jsx)("div",{className:"ml-4 w-[90px] font-bold"}),!z&&(0,n.jsx)("div",{className:"ml-4 w-[100px]",children:(0,n.jsxs)("strong",{children:[(0,w.zL)(V,2)," USDC"]})}),(0,n.jsx)("div",{children:(0,n.jsx)("strong",{children:(0,n.jsx)(A.N,{denom:K,value:(0,w.zL)(V,6)})})})]}),(0,n.jsxs)("div",{className:"mb-2 mt-2 flex items-center border-t border-muted-foreground pt-2 text-sm leading-5 transition-opacity duration-200 ease-in-out",children:[(0,n.jsx)("div",{className:"h-4 w-4 rounded-lg"}),(0,n.jsx)("div",{className:"ml-4 w-[90px] font-bold"}),!z&&(0,n.jsx)("div",{className:"ml-4 w-[100px]"}),(0,n.jsx)("div",{children:(0,n.jsx)("strong",{children:(0,n.jsx)(l.BK,{value:(0,w.zL)(V,6)+(0,w.zL)(X,6)*(en||0),style:"currency",currency:"USD"})})})]})]})]})]}),!U&&(0,n.jsx)(D.R,{text:"Setup your billing to deploy!"})]})]})},P=e=>{let{label:t,data:r,getColor:s}=e,{resolvedTheme:a}=(0,p.F)();return(0,n.jsx)("div",{className:"flex h-[200px] w-[220px] items-center justify-center",children:(0,n.jsx)(i.Y2,{data:r,margin:{top:15,right:15,bottom:15,left:0},innerRadius:.4,padAngle:2,cornerRadius:4,activeOuterRadiusOffset:8,colors:s,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",.2]]},valueFormat:e=>"".concat((0,w.zL)(e,2)," ").concat(t),tooltip:e=>(0,n.jsxs)("div",{className:"flex items-center rounded bg-muted px-2 py-1",children:[(0,n.jsx)("div",{className:"h-2 w-2",style:{backgroundColor:e.datum.color}}),(0,n.jsxs)("div",{className:"ml-2",children:[e.datum.label,": ",e.datum.formattedValue]})]}),enableArcLinkLabels:!1,arcLabelsSkipAngle:10,theme:{text:{fill:"#fff",fontSize:12},tooltip:{basic:{color:"dark"===a?"#fff":y.h1.main},container:{backgroundColor:"dark"===a?y.h1.main:"#fff"}}}})})};var S=C},35541:function(e,t,r){"use strict";r.d(t,{R:function(){return o}});var n=r(52322);r(2784);var s=r(57395),a=r(42660);let o=e=>{let{text:t}=e;return(0,n.jsxs)("div",{className:"mx-auto max-w-[400px] text-center",children:[(0,n.jsx)(a.D,{className:"mb-4 text-center !text-lg",subTitle:!0,children:t}),(0,n.jsx)(s.P,{})]})}},51369:function(e,t,r){"use strict";r.d(t,{K:function(){return l}});var n=r(52322);r(2784);var s=r(53914),a=r(63470),o=r(49158);let l=e=>{let{value:t,type:r,className:l,iconSize:c="large"}=e;return(0,n.jsxs)("div",{className:(0,o.cn)("flex items-center",l),children:[(0,n.jsxs)("div",{className:"text-muted-foreground",children:["cpu"===r&&(0,n.jsx)(s.JKp,{fontSize:c}),"gpu"===r&&(0,n.jsx)(s.Nrz,{fontSize:c}),"ram"===r&&(0,n.jsx)(s.DC3,{fontSize:c}),"storage"===r&&(0,n.jsx)(s.WMK,{fontSize:c})]}),(0,n.jsx)("div",{className:"ml-1",children:"string"==typeof t?t:(0,n.jsx)(a.BK,{value:t})}),(0,n.jsx)("div",{className:"ml-1 text-muted-foreground",children:(0,n.jsxs)("span",{className:"text-xs text-muted-foreground",children:["cpu"===r&&"CPU","gpu"===r&&"GPU","ram"===r&&"RAM","storage"===r&&"Disk"]})})]})}},79808:function(e,t,r){"use strict";r.d(t,{N:function(){return c}});var n=r(52322),s=r(63470),a=r(67810),o=r(54302),l=r(69793);let c=e=>{let{denom:t,value:r,showLt:c}=e,{isLoaded:i,getPriceForDenom:d}=(0,o.t)(),u=d(t),m=("string"==typeof r?parseFloat(r):r)*u,f=m>0?(0,l.Zj)(m):0;return(0,n.jsxs)("span",{className:"inline-flex items-center",children:[!i&&(0,n.jsx)(a.$j,{size:"small"}),c&&!!u&&m!==f&&"< ",!!u&&(0,n.jsx)(s.BK,{value:f,style:"currency",currency:"USD"})]})}},38612:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(2784),s=r(69640),a=r.n(s),o=r(17392)("deploy-web");function l(){return(0,n.useMemo)(()=>a()(o),[o])}},17392:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),e.exports=function(e){return{darkMode:"selector",content:["./pages/**/*.{ts,tsx}","./components/**/*.{ts,tsx}","./stories/**/*.{ts,tsx}","./app/**/*.{ts,tsx}","./src/**/*.{ts,tsx}","../../apps/".concat(e,"/src/**/*.{ts,tsx}"),"../../packages/ui/**/*.{ts,tsx,html,stories.tsx}"],theme:{container:{center:!0,padding:"1rem",screens:{"2xl":"1400px"}},extend:{fontFamily:{sans:["var(--font-geist-sans)"],mono:["var(--font-geist-mono)"]},colors:{border:"hsl(var(--border))",input:"hsl(var(--input))",ring:"hsl(var(--ring))",background:"hsl(var(--background))",header:"hsl(var(--header))",foreground:"hsl(var(--foreground))",primary:{DEFAULT:"hsl(var(--primary))",foreground:"hsl(var(--primary-foreground))",visited:"hsl(var(--primary-visited))"},secondary:{DEFAULT:"hsl(var(--secondary))",foreground:"hsl(var(--secondary-foreground))"},warning:{DEFAULT:"hsl(var(--warning))",foreground:"hsl(var(--warning-foreground))"},destructive:{DEFAULT:"hsl(var(--destructive))",foreground:"hsl(var(--destructive-foreground))"},muted:{DEFAULT:"hsl(var(--muted))",foreground:"hsl(var(--muted-foreground))"},accent:{DEFAULT:"hsl(var(--accent))",foreground:"hsl(var(--accent-foreground))"},popover:{DEFAULT:"hsl(var(--popover))",foreground:"hsl(var(--popover-foreground))"},card:{DEFAULT:"hsl(var(--card))",foreground:"hsl(var(--card-foreground))"}},borderRadius:{lg:"var(--radius)",md:"calc(var(--radius) - 2px)",sm:"calc(var(--radius) - 4px)"},keyframes:{"accordion-down":{from:{height:"0"},to:{height:"var(--radix-accordion-content-height)"}},"accordion-up":{from:{height:"var(--radix-accordion-content-height)"},to:{height:"0"}}},animation:{"accordion-down":"accordion-down 0.2s ease-out","accordion-up":"accordion-up 0.2s ease-out"}}},plugins:[r(75230),r(96774)({nocompatible:!0}),r(25037)]}}},68262:function(e,t,r){"use strict";var n=r(23586);function s(){}function a(){}a.resetWarningCache=s,e.exports=function(){function e(e,t,r,s,a,o){if(o!==n){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:s};return r.PropTypes=r,r}},13980:function(e,t,r){e.exports=r(68262)()},23586:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},96922:function(e,t,r){"use strict";r.d(t,{w_:function(){return d}});var n=r(2784),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=n.createContext&&n.createContext(s),o=["attr","size","title"];function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,s;n=t,s=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>n.createElement(u,l({attr:i({},e.attr)},t),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,i({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:s,size:a,title:c}=e,d=function(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,o),u=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,d,{className:r,style:i(i({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&n.createElement("title",null,c),e.children)};return void 0!==a?n.createElement(a.Consumer,null,e=>t(e)):t(s)}}}]);